class customSelect{constructor(e){this.selector=e.selector,this.selectAll=document.querySelectorAll(this.selector)}init(){this.renderTemplate(),this.clickEventOut()}reinit(e){let t=e.parentNode;t.querySelector(".select-styled")&&(t.querySelector(".select-styled").remove(),t.querySelector(".select-list").remove()),this.renderOption(t)}ajaxOption(e,t){let i=new XMLHttpRequest;return i.open("GET",e.dataset.ajax),i.responseType="json",i.setRequestHeader("Content-type","application/json; charset=utf-8"),i.send(),i.onerror=function(){console.err("Error: afSelec ajax request failed")},i.onreadystatechange=function(){3==i.readyState&&e.closest(".af-select").querySelector(".select-list").classList.add("select-list--load"),4==i.readyState&&e.closest(".af-select").querySelector(".select-list").classList.remove("select-list--load")},i.onload=function(){t(i.response)},null}renderOption(n){var o=this,s=n.querySelector("select"),a=s.getAttribute("placeholder"),r=s.getAttribute("multiple");const l=document.createElement("div"),c=(l.classList.add("select-styled"),l.innerHTML="<span>"+a+"</span>",document.createElement("ul")),e=(c.classList.add("select-options"),document.createElement("div"));function d(e){e.querySelectorAll("select > option").forEach(function(e,t){const i=document.createElement("li");if(i.innerHTML=e.innerText,i.setAttribute("rel",e.value),r){let e=document.createElement("span");e.classList.add("af-check-multiple"),i.append(e)}function n(e){if(r){let t=[];return e.parentNode.querySelectorAll("option[selected]").forEach(function(e){t.push(e.innerText)}),t.length?t.join(","):a}return e.innerText}0!=t||a||(l.innerHTML="<span>"+e.innerText+"</span>"),e.getAttribute("selected")&&(l.innerHTML=a?'<span class="af-selected-placeholder" data-af-placeholder="'+a+'">'+n(e)+"</span>":"<span>"+n(e)+"</span>",i.classList.add("active")),e.getAttribute("disabled")||(c.appendChild(i),o.clickEventListItem(i,e,t))})}e.classList.add("select-list"),e.appendChild(c),n.querySelector(".select-styled")||n.appendChild(l),n.querySelector(".select-options")||n.appendChild(e),s.dataset.ajax&&this.ajaxOption(s,function(e){s.innerHTML="";let i=s.dataset.selected;var t=s.getAttribute("placeholder");e.unshift({text:t||"-Выберите-",value:""}),e.forEach(function(e){let t=document.createElement("option");t.value=e.value,t.innerText=e.text,i==e.value&&(t.setAttribute("selected",!0),s.removeAttribute("data-selected")),s.append(t)}),d(n)}),s.dataset.ajax||d(n),s.afSelect=new Object,s.afSelect.open=function(){o.openSelect(n)},s.afSelect.close=function(){o.closeSelect()},s.afSelect.update=function(){o.reinit(s)}}renderTemplate(){const n=this;this.selectAll.forEach(function(e,t){if(!e.classList.contains("select-hidden")){e.classList.add("select-hidden");const i=document.createElement("div");i.classList.add("af-select"),e.getAttribute("multiple")&&i.classList.add("af-select--multiple"),i.innerHTML=e.outerHTML,e.parentNode.replaceChild(i,e),n.clickEventOpenSelect(i)}}),document.querySelectorAll(".af-select").forEach(function(e,t){n.renderOption(e)})}openSelect(e){document.querySelectorAll("select").forEach(function(e){e.afSelect&&e.afSelect.close()}),e.querySelector("select").dataset.ajax&&!e.querySelector(".select-styled").classList.contains("active")&&(e.querySelector(".select-list").remove(),this.renderOption(e)),e.style.maxWidth=e.offsetWidth+"px",e.querySelector(".select-styled").classList.toggle("active"),e.querySelector(".select-options").classList.toggle("active"),e.querySelector(".select-list").classList.toggle("active"),document.querySelector("body").classList.toggle("af-select-open")}closeSelect(){if(!document.querySelector(".select-styled.active"))return!1;document.querySelector(".select-styled.active").classList.remove("active"),document.querySelector(".select-options.active").classList.remove("active"),document.querySelector(".select-list.active").classList.remove("active"),document.querySelector("body").classList.remove("af-select-open")}clickEventOut(){const e=this;document.addEventListener("click",function(){e.closeSelect()})}clickEventListItem(e,n,t){const o=n.parentNode.parentNode,s=this,a=o.querySelector("select").getAttribute("placeholder"),r=o.querySelector("select").getAttribute("multiple"),l=o.querySelector(".select-styled");e.addEventListener("click",function(e){function t(e){if(r){let t=[];return e.parentNode.querySelectorAll("option[selected]").forEach(function(e){t.push(e.innerText)}),t.length?t.join(","):a}return e.innerText}e.stopPropagation(),e.preventDefault(),o.querySelector(".select-options li.active")&&!r&&o.querySelector(".select-options li.active").classList.remove("active"),this.classList.contains("active")?(this.classList.remove("active"),n.removeAttribute("selected")):(this.classList.add("active"),n.setAttribute("selected","selected")),a?l.innerHTML='<span class="af-selected-placeholder" data-af-placeholder="'+a+'">'+t(n)+"</span>":o.querySelector(".select-styled span").innerHTML=t(n),r||(o.querySelector("select").value=this.getAttribute("rel"));var i=new Event("change");o.querySelector("select").dispatchEvent(i),e.target.classList.contains("af-check-multiple")||s.closeSelect()})}clickEventOpenSelect(e){const t=this;function i(e){e.stopPropagation(),e.preventDefault(),t.openSelect(this)}e.removeEventListener("click",i),e.addEventListener("click",i)}}!function(){"use strict";function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){return e[e.length-1]}function k(t,...e){return e.forEach(e=>{t.includes(e)||t.push(e)}),t}function l(e,t){return e?e.split(t):[]}function d(e,t,i){return(void 0===t||t<=e)&&(void 0===i||e<=i)}function F(e,t,i){return e<t?t:i<e?i:e}function a(e,t,n={},o=0,i=""){i+=`<${Object.keys(n).reduce((e,t)=>{let i=n[t];return`${e} ${t}="${i="function"==typeof i?i(o):i}"`},e)}></${e}>`;var s=o+1;return s<t?a(e,t,n,s,i):i}function e(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function o(e){return new Date(e).setHours(0,0,0,0)}function v(){return(new Date).setHours(0,0,0,0)}function S(...e){switch(e.length){case 0:return v();case 1:return o(e[0])}const t=new Date(0);return t.setFullYear(...e),t.setHours(0,0,0,0)}function h(e,t){const i=new Date(e);return i.setDate(i.getDate()+t)}function u(e,t){const i=new Date(e),n=i.getMonth()+t;let o=n%12;o<0&&(o+=12);e=i.setMonth(n);return i.getMonth()!==o?i.setDate(0):e}function f(e,t){const i=new Date(e),n=i.getMonth(),o=i.setFullYear(i.getFullYear()+t);return 1===n&&2===i.getMonth()?i.setDate(0):o}function N(e,t){return(e-t+7)%7}function s(e,t,i=0){var n=new Date(e).getDay();return h(e,N(t,i)-N(n,i))}function p(e,t){e=new Date(e).getFullYear();return Math.floor(e/t)*t}function C(e,t,i){if(1!==t&&2!==t)return e;const n=new Date(e);return 1===t?i?n.setMonth(n.getMonth()+1,0):n.setDate(1):i?n.setFullYear(n.getFullYear()+1,0,0):n.setMonth(0,1),n.setHours(0,0,0,0)}const E=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,I=/[\s!-/:-@[-`{-~年月日]+/;let i={};const R={y:(e,t)=>new Date(e).setFullYear(parseInt(t,10)),m(t,e,i){const n=new Date(t);let o=parseInt(e,10)-1;if(isNaN(o)){if(!e)return NaN;const t=e.toLowerCase(),n=e=>e.toLowerCase().startsWith(t);if((o=(o=i.monthsShort.findIndex(n))<0?i.months.findIndex(n):o)<0)return NaN}return n.setMonth(o),n.getMonth()!==function e(t){return-1<t?t%12:e(t+12)}(o)?n.setDate(0):n.getTime()},d:(e,t)=>new Date(e).setDate(parseInt(t,10))},W={d:e=>e.getDate(),dd:e=>t(e.getDate(),2),D:(e,t)=>t.daysShort[e.getDay()],DD:(e,t)=>t.days[e.getDay()],m:e=>e.getMonth()+1,mm:e=>t(e.getMonth()+1,2),M:(e,t)=>t.monthsShort[e.getMonth()],MM:(e,t)=>t.months[e.getMonth()],y:e=>e.getFullYear(),yy:e=>t(e.getFullYear(),2).slice(-2),yyyy:e=>t(e.getFullYear(),4)};function t(e,t){return e.toString().padStart(t,"0")}function B(e){if("string"!=typeof e)throw new Error("Invalid date format.");if(e in i)return i[e];const s=e.split(E),o=e.match(new RegExp(E,"g"));if(0===s.length||!o)throw new Error("Invalid date format.");const t=o.map(e=>W[e]),a=Object.keys(R).reduce((e,t)=>(o.find(e=>"D"!==e[0]&&e[0].toLowerCase()===t)&&e.push(t),e),[]);return i[e]={parser(e,i){const n=e.split(I).reduce((e,t,i)=>{return 0<t.length&&o[i]&&("M"===(i=o[i][0])?e.m=t:"D"!==i&&(e[i]=t)),e},{});return a.reduce((e,t)=>{t=R[t](e,n[t],i);return isNaN(t)?e:t},v())},formatter:(n,o)=>t.reduce((e,t,i)=>e+(""+s[i]+t(n,o)),"")+r(s)}}function D(e,t,i){if(e instanceof Date||"number"==typeof e){const t=o(e);return isNaN(t)?void 0:t}var n;if(e)return"today"===e?v():t&&t.toValue?(n=t.toValue(e,t,i),isNaN(n)?void 0:o(n)):B(t).parser(e,i)}function c(e,t,i){if(isNaN(e)||!e&&0!==e)return"";e="number"==typeof e?new Date(e):e;return t.toDisplay?t.toDisplay(e,t,i):B(t).formatter(e,i)}const j=document.createRange();function L(e){return j.createContextualFragment(e)}function H(e){return e.parentElement||(e.parentNode instanceof ShadowRoot?e.parentNode.host:void 0)}function g(e){return e.getRootNode().activeElement===e}function n(e){"none"!==e.style.display&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function m(e){"none"===e.style.display&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function y(e){e.firstChild&&(e.removeChild(e.firstChild),y(e))}const b=new WeakMap,{addEventListener:V,removeEventListener:q}=EventTarget.prototype;function w(e,t){let i=b.get(e);i||(i=[],b.set(e,i)),t.forEach(e=>{V.call(...e),i.push(e)})}function Y(e){let t=b.get(e);t&&(t.forEach(e=>{q.call(...e)}),b.delete(e))}if(!Event.prototype.composedPath){const x=(e,t=[])=>{let i;return t.push(e),e.parentNode?i=e.parentNode:e.host?i=e.host:e.defaultView&&(i=e.defaultView),i?x(i,t):t};Event.prototype.composedPath=function(){return x(this.target)}}function X(e,t){var i="function"==typeof t?t:e=>e instanceof Element&&e.matches(t);return function e(t,i,n){var[t,...o]=t;return i(t)?t:t!==n&&"HTML"!==t.tagName&&0!==o.length?e(o,i,n):void 0}(e.composedPath(),i,e.currentTarget)}const $={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},O={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",getCalendarWeek:null,language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"»",orientation:"auto",pickLevel:0,prevArrow:"«",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},{language:A,format:U,weekStart:Z}=O;function K(e,t){return e.length<6&&0<=t&&t<7?k(e,t):e}function G(e){return(e+6)%7}function J(e,t,i,n){e=D(e,t,i);return void 0!==e?e:n}function Q(e,t,i=3){e=parseInt(e,10);return 0<=e&&e<=i?e:t}function ee(t,e){const i=Object.assign({},t),n={},o=e.constructor.locales,s=e.rangeSideIndex;let{format:a,getCalendarWeek:r,language:l,locale:c,maxDate:d,maxView:h,minDate:u,pickLevel:f,startView:p,weekStart:v}=e.config||{};if(i.language){let e;if(i.language!==l&&(o[i.language]?e=i.language:void 0===o[e=i.language.split("-")[0]]&&(e=!1)),delete i.language,e){l=n.language=e;const t=c||o[A];c=Object.assign({format:U,weekStart:Z},o[A]),l!==A&&Object.assign(c,o[l]),n.locale=c,a===t.format&&(a=n.format=c.format),v===t.weekStart&&(v=n.weekStart=c.weekStart,n.weekEnd=G(c.weekStart))}}if(i.format){const x="function"==typeof i.format.toDisplay,t="function"==typeof i.format.toValue,k=E.test(i.format);(x&&t||k)&&(a=n.format=i.format),delete i.format}let g=f,m=(void 0!==i.pickLevel&&(g=Q(i.pickLevel,2),delete i.pickLevel),g!==f&&(g>f&&(void 0===i.minDate&&(i.minDate=u),void 0===i.maxDate&&(i.maxDate=d)),i.datesDisabled||(i.datesDisabled=[]),f=n.pickLevel=g),u),y=d;if(void 0!==i.minDate){const x=S(0,0,1);(m=null===i.minDate?x:J(i.minDate,a,c,m))!==x&&(m=C(m,f,!1)),delete i.minDate}if(void 0!==i.maxDate&&(void 0!==(y=null===i.maxDate?void 0:J(i.maxDate,a,c,y))&&(y=C(y,f,!0)),delete i.maxDate),y<m?(u=n.minDate=y,d=n.maxDate=m):(u!==m&&(u=n.minDate=m),d!==y&&(d=n.maxDate=y)),i.datesDisabled&&(n.datesDisabled=i.datesDisabled.reduce((e,t)=>{t=D(t,a,c);return void 0!==t?k(e,C(t,f,s)):e},[]),delete i.datesDisabled),void 0!==i.defaultViewDate){const x=D(i.defaultViewDate,a,c);void 0!==x&&(n.defaultViewDate=x),delete i.defaultViewDate}if(void 0!==i.weekStart){const x=Number(i.weekStart)%7;isNaN(x)||(v=n.weekStart=x,n.weekEnd=G(x)),delete i.weekStart}if(i.daysOfWeekDisabled&&(n.daysOfWeekDisabled=i.daysOfWeekDisabled.reduce(K,[]),delete i.daysOfWeekDisabled),i.daysOfWeekHighlighted&&(n.daysOfWeekHighlighted=i.daysOfWeekHighlighted.reduce(K,[]),delete i.daysOfWeekHighlighted),void 0!==i.maxNumberOfDates){const x=parseInt(i.maxNumberOfDates,10);0<=x&&(n.maxNumberOfDates=x,n.multidate=1!==x),delete i.maxNumberOfDates}i.dateDelimiter&&(n.dateDelimiter=String(i.dateDelimiter),delete i.dateDelimiter);let b=h,w=(void 0!==i.maxView&&(b=Q(i.maxView,h),delete i.maxView),(b=f>b?f:b)!==h&&(h=n.maxView=b),p);if(void 0!==i.startView&&(w=Q(i.startView,w),delete i.startView),w<f?w=f:w>h&&(w=h),w!==p&&(n.startView=w),i.prevArrow){const x=L(i.prevArrow);0<x.childNodes.length&&(n.prevArrow=x.childNodes),delete i.prevArrow}if(i.nextArrow){const x=L(i.nextArrow);0<x.childNodes.length&&(n.nextArrow=x.childNodes),delete i.nextArrow}if(void 0!==i.disableTouchKeyboard&&(n.disableTouchKeyboard="ontouchstart"in document&&!!i.disableTouchKeyboard,delete i.disableTouchKeyboard),i.orientation){const x=i.orientation.toLowerCase().split(/\s+/g);n.orientation={x:x.find(e=>"left"===e||"right"===e)||"auto",y:x.find(e=>"top"===e||"bottom"===e)||"auto"},delete i.orientation}if(void 0!==i.todayBtnMode){switch(i.todayBtnMode){case 0:case 1:n.todayBtnMode=i.todayBtnMode}delete i.todayBtnMode}return n.getCalendarWeek="function"==typeof i.getCalendarWeek?i.getCalendarWeek:r||null,delete i.getCalendarWeek,Object.keys(i).forEach(e=>{void 0!==i[e]&&x(O,e)&&(n[e]=i[e])}),n}const te=e('<div class="datepicker">\n  <div class="datepicker-picker">\n    <div class="datepicker-header">\n      <div class="datepicker-title"></div>\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% prev-btn"></button>\n        <button type="button" class="%buttonClass% view-switch"></button>\n        <button type="button" class="%buttonClass% next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% today-btn"></button>\n        <button type="button" class="%buttonClass% clear-btn"></button>\n      </div>\n    </div>\n  </div>\n</div>'),ie=e(`<div class="days">
  <div class="days-of-week">${a("span",7,{class:"dow"})}</div>
  <div class="datepicker-grid">${a("span",42)}</div>
</div>`),ne=e(`<div class="calendar-weeks">
  <div class="days-of-week"><span class="dow"></span></div>
  <div class="weeks">${a("span",6,{class:"week"})}</div>
</div>`);class oe{constructor(e,t){Object.assign(this,t,{picker:e,element:L('<div class="datepicker-view"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}init(e){void 0!==e.pickLevel&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}performBeforeHook(e,t,i){let n=this.beforeShow(new Date(i));switch(typeof n){case"boolean":n={enabled:n};break;case"string":n={classes:n}}if(n){if(!1===n.enabled&&(e.classList.add("disabled"),k(this.disabled,t)),n.classes){const i=n.classes.split(/\s+/);e.classList.add(...i),i.includes("disabled")&&k(this.disabled,t)}n.content&&(o=e,i=n.content,y(o),i instanceof DocumentFragment?o.appendChild(i):"string"==typeof i?o.appendChild(L(i)):"function"==typeof i.forEach&&i.forEach(e=>{o.appendChild(e)}))}var o}}class se extends oe{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,t=!0){if(t){const e=L(ie).firstChild;this.dow=e.firstChild,this.grid=e.lastChild,this.element.appendChild(e)}super.init(e)}setOptions(e){let t;if(x(e,"minDate")&&(this.minDate=e.minDate),x(e,"maxDate")&&(this.maxDate=e.maxDate),e.datesDisabled&&(this.datesDisabled=e.datesDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),void 0!==e.todayHighlight&&(this.todayHighlight=e.todayHighlight),void 0!==e.weekStart&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale){const x=this.locale=e.locale;this.dayNames=x.daysMin,this.switchLabelFormat=x.titleFormat,t=!0}if(void 0!==e.beforeShowDay&&(this.beforeShow="function"==typeof e.beforeShowDay?e.beforeShowDay:void 0),void 0!==e.calendarWeeks)if(e.calendarWeeks&&!this.calendarWeeks){const x=L(ne).firstChild;this.calendarWeeks={element:x,dow:x.firstChild,weeks:x.lastChild},this.element.insertBefore(x,this.element.firstChild)}else this.calendarWeeks&&!e.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);"function"==typeof e.getCalendarWeek&&(this.getCalendarWeek=e.getCalendarWeek),void 0!==e.showDaysOfWeek&&(e.showDaysOfWeek?(m(this.dow),this.calendarWeeks&&m(this.calendarWeeks.dow)):(n(this.dow),this.calendarWeeks&&n(this.calendarWeeks.dow))),t&&Array.from(this.dow.children).forEach((e,t)=>{t=(this.weekStart+t)%7;e.textContent=this.dayNames[t],e.className=this.daysOfWeekDisabled.includes(t)?"dow disabled":"dow"})}updateFocus(){const e=new Date(this.picker.viewDate),t=e.getFullYear(),i=e.getMonth(),n=S(t,i,1),o=s(n,this.weekStart,this.weekStart);this.first=n,this.last=S(t,i+1,0),this.start=o,this.focused=this.picker.viewDate}updateSelection(){var{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e,t&&(this.range=t.dates)}render(){this.today=this.todayHighlight?v():void 0,this.disabled=[...this.datesDisabled];const i=c(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(i),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){const i=s(this.first,1,this.weekStart),n=(e,t)=>{return this.getCalendarWeek?this.getCalendarWeek(new Date(e),t):(t=s(e,4,1),e=s(new Date(t).setMonth(0,4),4,1),Math.round((t-e)/6048e5)+1)};Array.from(this.calendarWeeks.weeks.children).forEach((e,t)=>{e.textContent=n(h(i,7*t),this.weekStart)})}Array.from(this.grid.children).forEach((e,t)=>{const i=e.classList,n=h(this.start,t),o=new Date(n),s=o.getDay();if(e.className="datepicker-cell "+this.cellClass,e.dataset.date=n,e.textContent=o.getDate(),n<this.first?i.add("prev"):n>this.last&&i.add("next"),this.today===n&&i.add("today"),(n<this.minDate||n>this.maxDate||this.disabled.includes(n))&&i.add("disabled"),this.daysOfWeekDisabled.includes(s)&&(i.add("disabled"),k(this.disabled,n)),this.daysOfWeekHighlighted.includes(s)&&i.add("highlighted"),this.range){const[e,t]=this.range;n>e&&n<t&&i.add("range"),n===e&&i.add("range-start"),n===t&&i.add("range-end")}this.selected.includes(n)&&i.add("selected"),n===this.focused&&i.add("focused"),this.beforeShow&&this.performBeforeHook(e,n,n)})}refresh(){const[n,o]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(e=>{e.classList.remove("range","range-start","range-end","selected","focused")}),Array.from(this.grid.children).forEach(e=>{const t=Number(e.dataset.date),i=e.classList;t>n&&t<o&&i.add("range"),t===n&&i.add("range-start"),t===o&&i.add("range-end"),this.selected.includes(t)&&i.add("selected"),t===this.focused&&i.add("focused")})}refreshFocus(){var e=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(e=>{e.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}function ae(e,t){var i,n,o;if(e&&e[0]&&e[1])return[[e,i],[n,o]]=e,t<e||n<t?void 0:[e===t?i:-1,n===t?o:12]}class re extends oe{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,t=!0){t&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(L(a("span",12,{"data-month":e=>e})))),super.init(e)}setOptions(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),x(e,"minDate"))if(void 0===e.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{const x=new Date(e.minDate);this.minYear=x.getFullYear(),this.minMonth=x.getMonth(),this.minDate=x.setDate(1)}if(x(e,"maxDate"))if(void 0===e.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{const x=new Date(e.maxDate);this.maxYear=x.getFullYear(),this.maxMonth=x.getMonth(),this.maxDate=S(this.maxYear,this.maxMonth+1,0)}this.isMinView?e.datesDisabled&&(this.datesDisabled=e.datesDisabled):this.datesDisabled=[],void 0!==e.beforeShowMonth&&(this.beforeShow="function"==typeof e.beforeShowMonth?e.beforeShowMonth:void 0)}updateFocus(){const e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((e,t)=>{const i=new Date(t),n=i.getFullYear(),o=i.getMonth();return void 0===e[n]?e[n]=[o]:k(e[n],o),e},{}),t&&t.dates&&(this.range=t.dates.map(e=>{const t=new Date(e);return isNaN(t)?void 0:[t.getFullYear(),t.getMonth()]}))}render(){this.disabled=this.datesDisabled.reduce((e,t)=>{const i=new Date(t);return this.year===i.getFullYear()&&e.push(i.getMonth()),e},[]),this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);const o=this.selected[this.year]||[],s=this.year<this.minYear||this.year>this.maxYear,a=this.year===this.minYear,r=this.year===this.maxYear,l=ae(this.range,this.year);Array.from(this.grid.children).forEach((e,t)=>{const i=e.classList,n=S(this.year,t,1);if(e.className="datepicker-cell "+this.cellClass,this.isMinView&&(e.dataset.date=n),e.textContent=this.monthNames[t],(s||a&&t<this.minMonth||r&&t>this.maxMonth||this.disabled.includes(t))&&i.add("disabled"),l){const[o,s]=l;t>o&&t<s&&i.add("range"),t===o&&i.add("range-start"),t===s&&i.add("range-end")}o.includes(t)&&i.add("selected"),t===this.focused&&i.add("focused"),this.beforeShow&&this.performBeforeHook(e,t,n)})}refresh(){const n=this.selected[this.year]||[],[o,s]=ae(this.range,this.year)||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(e=>{e.classList.remove("range","range-start","range-end","selected","focused")}),Array.from(this.grid.children).forEach((e,t)=>{const i=e.classList;t>o&&t<s&&i.add("range"),t===o&&i.add("range-start"),t===s&&i.add("range-end"),n.includes(t)&&i.add("selected"),t===this.focused&&i.add("focused")})}refreshFocus(){this.grid.querySelectorAll(".focused").forEach(e=>{e.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}class le extends oe{constructor(e,t){super(e,t)}init(e,t=!0){t&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow"+[...this.cellClass].reduce((e,t,i)=>e+(i?t:t.toUpperCase()),""),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(L(a("span",12)))),super.init(e)}setOptions(e){if(x(e,"minDate")&&(void 0===e.minDate?this.minYear=this.minDate=void 0:(this.minYear=p(e.minDate,this.step),this.minDate=S(this.minYear,0,1))),x(e,"maxDate")&&(void 0===e.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=p(e.maxDate,this.step),this.maxDate=S(this.maxYear,11,31))),this.isMinView?e.datesDisabled&&(this.datesDisabled=e.datesDisabled):this.datesDisabled=[],void 0!==e[this.beforeShowOption]){const x=e[this.beforeShowOption];this.beforeShow="function"==typeof x?x:void 0}}updateFocus(){var e=new Date(this.picker.viewDate),t=p(e,this.navStep),i=t+9*this.step;this.first=t,this.last=i,this.start=t-this.step,this.focused=p(e,this.step)}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((e,t)=>k(e,p(t,this.step)),[]),t&&t.dates&&(this.range=t.dates.map(e=>{if(void 0!==e)return p(e,this.step)}))}render(){this.disabled=this.datesDisabled.map(e=>new Date(e).getFullYear()),this.picker.setViewSwitchLabel(this.first+"-"+this.last),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((e,t)=>{const i=e.classList,n=this.start+t*this.step,o=S(n,0,1);if(e.className="datepicker-cell "+this.cellClass,this.isMinView&&(e.dataset.date=o),e.textContent=e.dataset.year=n,0===t?i.add("prev"):11===t&&i.add("next"),(n<this.minYear||n>this.maxYear||this.disabled.includes(n))&&i.add("disabled"),this.range){const[e,t]=this.range;n>e&&n<t&&i.add("range"),n===e&&i.add("range-start"),n===t&&i.add("range-end")}this.selected.includes(n)&&i.add("selected"),n===this.focused&&i.add("focused"),this.beforeShow&&this.performBeforeHook(e,n,o)})}refresh(){const[n,o]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(e=>{e.classList.remove("range","range-start","range-end","selected","focused")}),Array.from(this.grid.children).forEach(e=>{const t=Number(e.textContent),i=e.classList;t>n&&t<o&&i.add("range"),t===n&&i.add("range-start"),t===o&&i.add("range-end"),this.selected.includes(t)&&i.add("selected"),t===this.focused&&i.add("focused")})}refreshFocus(){var e=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(e=>{e.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}function T(e,t){var i={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(t,{detail:i}))}function M(e,t){var{minDate:i,maxDate:n}=e.config,{currentView:o,viewDate:s}=e.picker;let a;switch(o.id){case 0:a=u(s,t);break;case 1:a=f(s,t);break;default:a=f(s,t*o.navStep)}a=F(a,i,n),e.picker.changeFocus(a).render()}function ce(e){var t=e.picker.currentView.id;t!==e.config.maxView&&e.picker.changeView(t+1).render()}function de(e){e.config.updateOnBlur?e.update({revert:!0}):e.refresh("input"),e.hide()}function he(e,t){const i=X(t,".datepicker-cell");if(i&&!i.classList.contains("disabled")){var{id:t,isMinView:n}=e.picker.currentView;if(n)e.setDate(Number(i.dataset.date));else{n=e,e=Number(1===t?i.dataset.month:i.dataset.year);const o=n.picker,s=new Date(o.viewDate),a=o.currentView.id,r=1===a?u(s,e-s.getMonth()):f(s,e-s.getFullYear());void o.changeFocus(r).changeView(a-1).render()}}}function ue(e){e.preventDefault()}const fe=["left","top","right","bottom"].reduce((e,t)=>(e[t]="datepicker-orient-"+t,e),{}),pe=e=>e&&e+"px";function ve(e,t){if(void 0!==t.title&&(t.title?(e.controls.title.textContent=t.title,m(e.controls.title)):(e.controls.title.textContent="",n(e.controls.title))),t.prevArrow){const x=e.controls.prevBtn;y(x),t.prevArrow.forEach(e=>{x.appendChild(e.cloneNode(!0))})}if(t.nextArrow){const x=e.controls.nextBtn;y(x),t.nextArrow.forEach(e=>{x.appendChild(e.cloneNode(!0))})}if(t.locale&&(e.controls.todayBtn.textContent=t.locale.today,e.controls.clearBtn.textContent=t.locale.clear),void 0!==t.todayBtn&&(t.todayBtn?m:n)(e.controls.todayBtn),x(t,"minDate")||x(t,"maxDate")){const{minDate:x,maxDate:t}=e.datepicker.config;e.controls.todayBtn.disabled=!d(v(),x,t)}void 0!==t.clearBtn&&(t.clearBtn?m:n)(e.controls.clearBtn)}function ge(e){var{dates:e,config:t}=e;return F(0<e.length?r(e):t.defaultViewDate,t.minDate,t.maxDate)}function me(e,t){const i=new Date(e.viewDate),n=new Date(t),{id:o,year:s,first:a,last:r}=e.currentView,l=n.getFullYear();switch(e.viewDate=t,l!==i.getFullYear()&&T(e.datepicker,"changeYear"),n.getMonth()!==i.getMonth()&&T(e.datepicker,"changeMonth"),o){case 0:return t<a||r<t;case 1:return l!==s;default:return l<a||r<l}}function ye(e){return window.getComputedStyle(e).direction}class be{constructor(e){const t=(this.datepicker=e)["config"],i=te.replace(/%buttonClass%/g,t.buttonClass),n=this.element=L(i).firstChild,[o,s,a]=n.firstChild.children,r=o.firstElementChild,[l,c,d]=o.lastElementChild.children,[h,u]=a.firstChild.children,f={title:r,prevBtn:l,viewSwitch:c,nextBtn:d,todayBtn:h,clearBtn:u};this.main=s,this.controls=f;var p=e.inline?"inline":"dropdown";n.classList.add("datepicker-"+p),ve(this,t),this.viewDate=ge(e),w(e,[[n,"mousedown",ue],[s,"click",he.bind(null,e)],[f.viewSwitch,"click",function(e){ce(e)}.bind(null,e)],[f.prevBtn,"click",function(e){M(e,-1)}.bind(null,e)],[f.nextBtn,"click",function(e){M(e,1)}.bind(null,e)],[f.todayBtn,"click",function(e){const t=e.picker,i=v();if(1===e.config.todayBtnMode){if(e.config.autohide)return void e.setDate(i);e.setDate(i,{render:!1}),t.update()}t.viewDate!==i&&t.changeFocus(i),t.changeView(0).render()}.bind(null,e)],[f.clearBtn,"click",function(e){e.setDate({clear:!0})}.bind(null,e)]]),this.views=[new se(this),new re(this),new le(this,{id:2,name:"years",cellClass:"year",step:1}),new le(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.container?t.container.appendChild(this.element):e.inputField.after(this.element)}setOptions(t){ve(this,t),this.views.forEach(e=>{e.init(t,!1)}),this.currentView.render()}detach(){this.element.remove()}show(){if(!this.active){const{datepicker:t,element:i}=this;var e;t.inline?i.classList.add("active"):((e=ye(t.inputField))!==ye(H(i))?i.dir=e:i.dir&&i.removeAttribute("dir"),i.style.visiblity="hidden",i.classList.add("active"),this.place(),i.style.visiblity="",t.config.disableTouchKeyboard&&t.inputField.blur()),this.active=!0,T(t,"show")}}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,T(this.datepicker,"hide"))}place(){const{classList:e,offsetParent:t,style:i}=this.element,{config:n,inputField:o}=this.datepicker,{width:s,height:a}=this.element.getBoundingClientRect(),{left:r,top:l,right:c,bottom:d,width:h,height:u}=o.getBoundingClientRect();let{x:f,y:p}=n.orientation,v=r,g=l;if(t!==document.body&&t){const e=t.getBoundingClientRect();v-=e.left-t.scrollLeft,g-=e.top-t.scrollTop}else v+=window.scrollX,g+=window.scrollY;const m=function e(t){t=H(t);if(t!==document.body&&t)return"visible"!==window.getComputedStyle(t).overflow?t:e(t)}(o);let y=0,b=0,{clientWidth:w,clientHeight:x}=document.documentElement;if(m){const e=m.getBoundingClientRect();0<e.top&&(b=e.top),0<e.left&&(y=e.left),e.right<w&&(w=e.right),e.bottom<x&&(x=e.bottom)}let k=0;"auto"===f&&(r<y?(f="left",k=y-r):r+s>w?(f="right",w<c&&(k=w-c)):f="rtl"!==ye(o)||c-s<y?"left":"right"),"right"===f&&(v+=h-s),v+=k,"top"===(p="auto"===p?l-a>b&&d+a>x?"top":"bottom":p)?g-=a:g+=u,e.remove(...Object.values(fe)),e.add(fe[f],fe[p]),i.left=pe(v),i.top=pe(g)}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevBtnDisabled(e){this.controls.prevBtn.disabled=e}setNextBtnDisabled(e){this.controls.nextBtn.disabled=e}changeView(e){var t=this.currentView,e=this.views[e];return e.id!==t.id&&(this.currentView=e,this._renderMethod="render",T(this.datepicker,"changeView"),this.main.replaceChild(e.element,t.element)),this}changeFocus(e){return this._renderMethod=me(this,e)?"render":"refreshFocus",this.views.forEach(e=>{e.updateFocus()}),this}update(){var e=ge(this.datepicker);return this._renderMethod=me(this,e)?"render":"refresh",this.views.forEach(e=>{e.updateFocus(),e.updateSelection()}),this}render(e=!0){e=e&&this._renderMethod||"render";delete this._renderMethod,this.currentView[e]()}}function P(e,t,i,n){const o=e.picker,s=o.currentView,a=s.step||1;let r,l,c=o.viewDate;switch(s.id){case 0:c=n?h(c,7*i):(t.ctrlKey||t.metaKey?f:h)(c,i),r=h,l=e=>s.disabled.includes(e);break;case 1:c=u(c,n?4*i:i),r=u,l=e=>{const t=new Date(e),{year:i,disabled:n}=s;return t.getFullYear()===i&&n.includes(t.getMonth())};break;default:c=f(c,i*(n?4:1)*a),r=f,l=e=>s.disabled.includes(p(e,a))}void 0!==(c=function e(t,i,n,o,s,a){if(d(t,s,a))return o(t)?e(i(t,n),i,n,o,s,a):t}(c,r,i<0?-a:a,l,s.minDate,s.maxDate))&&o.changeFocus(c).render()}function we(e,t){return e.map(e=>c(e,t.format,t.locale)).join(t.dateDelimiter)}function xe(e,t,i=!1){const{config:n,dates:o,rangeSideIndex:s}=e;if(0===t.length)return i?[]:void 0;let a=t.reduce((e,t)=>{t=D(t,n.format,n.locale);return void 0!==t&&(!d(t=C(t,n.pickLevel,s),n.minDate,n.maxDate)||e.includes(t)||n.datesDisabled.includes(t)||!(0<n.pickLevel)&&n.daysOfWeekDisabled.includes(new Date(t).getDay())||e.push(t)),e},[]);return 0!==a.length?(n.multidate&&!i&&(a=a.reduce((e,t)=>(o.includes(t)||e.push(t),e),o.filter(e=>!a.includes(e)))),n.maxNumberOfDates&&a.length>n.maxNumberOfDates?a.slice(-1*n.maxNumberOfDates):a):void 0}function z(e,t=3,i=!0){const{config:n,picker:o,inputField:s}=e;if(2&t){const e=o.active?n.pickLevel:n.startView;o.update().changeView(e).render(i)}1&t&&s&&(s.value=we(e.dates,n))}function ke(e,t,i){let{clear:n,render:o,autohide:s,revert:a}=i;(o=void 0===o?!0:o)?void 0===s&&(s=e.config.autohide):s=!1;const r=xe(e,t,n);(r||a)&&(r&&r.toString()!==e.dates.toString()?(e.dates=r,z(e,o?3:1),T(e,"changeDate")):z(e,1),s&&e.hide())}class Se{constructor(e,t={},i){(e.datepicker=this).element=e;const n=this.config=Object.assign({buttonClass:t.buttonClass&&String(t.buttonClass)||"button",container:null,defaultViewDate:v(),maxDate:void 0,minDate:void 0},ee(O,this)),o=this.inline="INPUT"!==e.tagName;let s,a;if(o?n.container=e:(t.container&&(n.container=t.container instanceof HTMLElement?t.container:document.querySelector(t.container)),(s=this.inputField=e).classList.add("datepicker-input")),i){const e=i.inputs.indexOf(s),t=i.datepickers;if(e<0||1<e||!Array.isArray(t))throw Error("Invalid rangepicker object.");t[e]=this,Object.defineProperty(this,"rangepicker",{get:()=>i}),Object.defineProperty(this,"rangeSideIndex",{get:()=>e})}this._options=t,Object.assign(n,ee(t,this)),o?(a=l(e.dataset.date,n.dateDelimiter),delete e.dataset.date):a=l(s.value,n.dateDelimiter),this.dates=[];t=xe(this,a);t&&0<t.length&&(this.dates=t),s&&(s.value=we(this.dates,n));const r=this.picker=new be(this);if(o)this.show();else{const e=function(e,t){const{element:i,picker:n}=e;if(n.active||g(i)){const o=n.element;X(t,e=>e===i||e===o)||de(e)}}.bind(null,this);w(this,[[s,"keydown",function(e,t){var i=t.key;if("Tab"===i)de(e);else{const n=e.picker,{id:o,isMinView:s}=n.currentView;if(n.active){if(e.editMode)return void("Enter"===i?e.exitEditMode({update:!0,autohide:e.config.autohide}):"Escape"===i&&n.hide());if("ArrowLeft"===i)if(t.ctrlKey||t.metaKey)M(e,-1);else{if(t.shiftKey)return void e.enterEditMode();P(e,t,-1,!1)}else if("ArrowRight"===i)if(t.ctrlKey||t.metaKey)M(e,1);else{if(t.shiftKey)return void e.enterEditMode();P(e,t,1,!1)}else if("ArrowUp"===i)if(t.ctrlKey||t.metaKey)ce(e);else{if(t.shiftKey)return void e.enterEditMode();P(e,t,-1,!0)}else if("ArrowDown"===i){if(t.shiftKey&&!t.ctrlKey&&!t.metaKey)return void e.enterEditMode();P(e,t,1,!0)}else{if("Enter"!==i)return void("Escape"===i?n.hide():"Backspace"!==i&&"Delete"!==i&&(1!==i.length||t.ctrlKey||t.metaKey)||e.enterEditMode());if(s)return void e.setDate(n.viewDate);n.changeView(o-1).render()}}else{if("ArrowDown"!==i)return void("Enter"===i?e.update():"Escape"===i&&n.show());n.show()}t.preventDefault()}}.bind(null,this)],[s,"focus",function(e){e.config.showOnFocus&&!e._showing&&e.show()}.bind(null,this)],[s,"mousedown",function(e,t){const i=t.target;(e.picker.active||e.config.showOnClick)&&(i._active=g(i),i._clicking=setTimeout(()=>{delete i._active,delete i._clicking},2e3))}.bind(null,this)],[s,"click",function(e,t){const i=t.target;i._clicking&&(clearTimeout(i._clicking),delete i._clicking,i._active&&e.enterEditMode(),delete i._active,e.config.showOnClick&&e.show())}.bind(null,this)],[s,"paste",function(e,t){t.clipboardData.types.includes("text/plain")&&e.enterEditMode()}.bind(null,this)],[document,"mousedown",e],[document,"touchstart",e],[window,"resize",r.place.bind(r)]])}}static formatDate(e,t,i){return c(e,t,i&&$[i]||$.en)}static parseDate(e,t,i){return D(e,t,i&&$[i]||$.en)}static get locales(){return $}get active(){return!(!this.picker||!this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){const t=this.picker,i=ee(e,this);Object.assign(this._options,e),Object.assign(this.config,i),t.setOptions(i),z(this,3)}show(){if(this.inputField){if(this.inputField.disabled)return;g(this.inputField)||this.config.disableTouchKeyboard||(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}hide(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}destroy(){return this.hide(),Y(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}getDate(t){const e=t?e=>c(e,t,this.config.locale):e=>new Date(e);return this.config.multidate?this.dates.map(e):0<this.dates.length?e(this.dates[0]):void 0}setDate(...e){const t=[...e],i={},n=r(e);"object"!=typeof n||Array.isArray(n)||n instanceof Date||!n||Object.assign(i,t.pop()),ke(this,Array.isArray(t[0])?t[0]:t,i)}update(e){this.inline||(e=Object.assign(e||{},{clear:!0,render:!0}),ke(this,l(this.inputField.value,this.config.dateDelimiter),e))}refresh(e,t=!1){e&&"string"!=typeof e&&(t=e,e=void 0),z(this,"picker"===e?2:"input"===e?1:3,!t)}enterEditMode(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit"))}exitEditMode(e){!this.inline&&this.editMode&&(e=Object.assign({update:!1},e),delete this.editMode,this.inputField.classList.remove("in-edit"),e.update&&this.update(e))}}function Ce(e){const t=Object.assign({},e);return delete t.inputs,delete t.allowOneSidedRange,delete t.maxNumberOfDates,t}function Ee(e,t,i,n){w(e,[[i,"changeDate",t]]),new Se(i,n,e)}function _(e,t){if(!e._updating){e._updating=!0;t=t.target;if(void 0!==t.datepicker){const i=e.datepickers,n={render:!1},o=e.inputs.indexOf(t),s=0===o?1:0,a=i[o].dates[0],r=i[s].dates[0];void 0!==a&&void 0!==r?0===o&&r<a?(i[0].setDate(r,n),i[1].setDate(a,n)):1===o&&a<r&&(i[0].setDate(a,n),i[1].setDate(r,n)):e.allowOneSidedRange||void 0===a&&void 0===r||(n.clear=!0,i[s].setDate(i[o].dates,n)),i[0].picker.update().render(),i[1].picker.update().render(),delete e._updating}}}window.Datepicker=Se,window.DateRangePicker=class{constructor(e,t={}){const i=Array.isArray(t.inputs)?t.inputs:Array.from(e.querySelectorAll("input"));if(!(i.length<2)){(e.rangepicker=this).element=e,this.inputs=i.slice(0,2),this.allowOneSidedRange=!!t.allowOneSidedRange;const n=_.bind(null,this),o=Ce(t),s=[];Object.defineProperty(this,"datepickers",{get:()=>s}),Ee(this,n,this.inputs[0],o),Ee(this,n,this.inputs[1],o),Object.freeze(s),0<s[0].dates.length?_(this,{target:this.inputs[0]}):0<s[1].dates.length&&_(this,{target:this.inputs[1]})}}get dates(){return 2===this.datepickers.length?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}setOptions(e){this.allowOneSidedRange=!!e.allowOneSidedRange;e=Ce(e);this.datepickers[0].setOptions(e),this.datepickers[1].setOptions(e)}destroy(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),Y(this),delete this.element.rangepicker}getDates(t){const i=t?e=>c(e,t,this.datepickers[0].config.locale):e=>new Date(e);return this.dates.map(e=>void 0===e?e:i(e))}setDates(e,t){const[i,n]=this.datepickers,o=this.dates;this._updating=!0,i.setDate(e),n.setDate(t),delete this._updating,n.dates[0]!==o[1]?_(this,{target:this.inputs[1]}):i.dates[0]!==o[0]&&_(this,{target:this.inputs[0]})}}}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,function(e){"use strict";function F(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function y(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?F(Object(o),!0).forEach(function(e){var t,i;t=n,i=o[e=e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):F(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,i){t&&N(e.prototype,t),i&&N(e,i)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n(i){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(i),t=(e=n?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return a(t)}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,o,s=[],a=!0,r=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(s.push(n.value),!t||s.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return s}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return s(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function k(e,t){var i,n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function p(){for(var e=!1,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];"boolean"==typeof i[0]&&(e=i.shift());var o=i[0];if(!o||"object"!==u(o))throw new Error("extendee must be an object");for(var s=i.slice(1),a=s.length,r=0;r<a;r++){var l,c,d,h=s[r];for(l in h)h.hasOwnProperty(l)&&(c=h[l],e&&(Array.isArray(c)||v(c))?(d=Array.isArray(c)?[]:{},o[l]=p(!0,o.hasOwnProperty(l)?o[l]:d,c)):o[l]=c)}return o}function w(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e4;return e=parseFloat(e)||0,Math.round((e+Number.EPSILON)*t)/t}function d(e){r(this,d),this.id=-1,this.id=e.pointerId||e.identifier||-1,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,this.nativePointer=e}var v=function(e){return"object"===u(e)&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)},R="undefined"!=typeof window&&window.ResizeObserver||(t(h,[{key:"observe",value:function(t){var e;this.observables.some(function(e){return e.el===t})||(e={el:t,size:{height:t.clientHeight,width:t.clientWidth}},this.observables.push(e))}},{key:"unobserve",value:function(t){this.observables=this.observables.filter(function(e){return e.el!==t})}},{key:"disconnect",value:function(){this.observables=[]}},{key:"check",value:function(){var e=this.observables.filter(function(e){var t=e.el.clientHeight,i=e.el.clientWidth;if(e.size.height!==t||e.size.width!==i)return e.size.height=t,e.size.width=i,!0}).map(function(e){return e.el});0<e.length&&this.callback(e),window.requestAnimationFrame(this.boundCheck)}}]),h);function h(e){r(this,h),this.observables=[],this.boundCheck=this.check.bind(this),this.boundCheck(),this.callback=e}function W(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function f(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}function g(e){return!!(e&&"object"===u(e)&&e instanceof Element&&e!==document.body)&&(t=e,i=getComputedStyle(t)["overflow-y"],n=getComputedStyle(t)["overflow-x"],i=("scroll"===i||"auto"===i)&&1<Math.abs(t.scrollHeight-t.clientHeight),n=("scroll"===n||"auto"===n)&&1<Math.abs(t.scrollWidth-t.clientWidth),i||n?e:g(e.parentNode));var t,i,n}t(E,[{key:"stop",value:function(){this.element.removeEventListener("pointerdown",this.onStart),this.element.removeEventListener("pointermove",this.onMove),this.element.removeEventListener("pointerup",this.onEnd),this.element.removeEventListener("pointercancel",this.onEnd)}}]);var B,j=E,m=(t(C,[{key:"option",value:function(e,t){e=String(e);e=e,i=this.options;var i,e=e.split(".").reduce(function(e,t){return e&&e[t]},i);if("function"==typeof e){for(var n=arguments.length,o=new Array(2<n?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s];e=e.call.apply(e,[this,this].concat(o))}return void 0===e?t:e}},{key:"localize",value:function(e){var s=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,function(e,t,i){var n=!1;if(!(n=i?s.option("".concat(t[0]+t.toLowerCase().substring(1),".l10n.").concat(i)):s.option("l10n.".concat(t))))return t;for(var o=0;o<a.length;o++)n=n.split(a[o][0]).join(a[o][1]);return n})}},{key:"on",value:function(e,t){var i=this;if(v(e)){for(var n=0,o=Object.entries(e);n<o.length;n++){var s=o[n];this.on.apply(this,b(s))}return this}return String(e).split(" ").forEach(function(e){e=i.events[e]=i.events[e]||[];-1==e.indexOf(t)&&e.push(t)}),this}},{key:"once",value:function(e,s){var a=this;if(v(e)){for(var t=0,i=Object.entries(e);t<i.length;t++){var n=i[t];this.once.apply(this,b(n))}return this}return String(e).split(" ").forEach(function(n){function o(){a.off(n,o);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.call.apply(s,[a,a].concat(t))}o._=s,a.on(n,o)}),this}},{key:"off",value:function(e,a){var r=this;if(!v(e))return e.split(" ").forEach(function(e){var t=r.events[e];if(!t||!t.length)return r;for(var i=-1,n=0,o=t.length;n<o;n++){var s=t[n];if(s&&(s===a||s._===a)){i=n;break}}-1!=i&&t.splice(i,1)}),this;for(var t=0,i=Object.entries(e);t<i.length;t++){var n=i[t];this.off.apply(this,b(n))}}},{key:"trigger",value:function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var o,s=k(b(this.events[e]||[]).slice());try{for(s.s();!(o=s.n()).done;){var a=o.value;if(a&&!1===a.call.apply(a,[this,this].concat(i)))return!1}}catch(e){s.e(e)}finally{s.f()}var r,l=k(b(this.events["*"]||[]).slice());try{for(l.s();!(r=l.n()).done;){var c=r.value;if(c&&!1===c.call.apply(c,[this,e,this].concat(i)))return!1}}catch(e){l.e(e)}finally{l.f()}return!0}},{key:"attachPlugins",value:function(e){for(var t={},i=0,n=Object.entries(e||{});i<n.length;i++){var o=c(n[i],2),s=o[0],o=o[1];!1===this.options[s]||this.plugins[s]||(this.options[s]=p({},o.defaults||{},this.options[s]),t[s]=new o(this))}for(var a=0,r=Object.entries(t);a<r.length;a++){var l=c(r[a],2);l[0],l[1].attach(this)}return this.plugins=Object.assign({},this.plugins,t),this}},{key:"detachPlugins",value:function(){for(var e in this.plugins){var t=void 0;(t=this.plugins[e])&&"function"==typeof t.detach&&t.detach(this)}return this.plugins={},this}}]),C),H={touch:!0,zoom:!0,pinchToZoom:!0,panOnlyZoomed:!1,lockAxis:!1,friction:.64,decelFriction:.88,zoomFriction:.74,bounceForce:.2,baseScale:1,minScale:1,maxScale:2,step:.5,textSelection:!1,click:"toggleZoom",wheel:"zoom",wheelFactor:42,wheelLimit:5,draggableClass:"is-draggable",draggingClass:"is-dragging",ratio:1},x=(i(S,m),B=n(S),t(S,[{key:"initLayout",value:function(){var e=this.$container;if(!(e instanceof HTMLElement))throw new Error("Panzoom: Container not found");var t=this.option("content")||e.querySelector(".panzoom__content");if(!t)throw new Error("Panzoom: Content not found");this.$content=t;var i=this.option("viewport")||e.querySelector(".panzoom__viewport");i||!1===this.option("wrapInner")||((i=document.createElement("div")).classList.add("panzoom__viewport"),i.append.apply(i,b(e.childNodes)),e.appendChild(i)),this.$viewport=i||t.parentNode}},{key:"resetValues",value:function(){this.updateRate=this.option("updateRate",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?250:24),this.container={width:0,height:0},this.viewport={width:0,height:0},this.content={origHeight:0,origWidth:0,width:0,height:0,x:this.option("x",0),y:this.option("y",0),scale:this.option("baseScale")},this.transform={x:0,y:0,scale:1},this.resetDragPosition()}},{key:"onLoad",value:function(e){this.updateMetrics(),this.panTo({scale:this.option("baseScale"),friction:0}),this.trigger("load",e)}},{key:"onClick",value:function(e){}},{key:"onWheel",value:function(e){!1!==this.trigger("wheel",e)&&this.option("zoom")&&this.option("wheel")&&this.zoomWithWheel(e)}},{key:"zoomWithWheel",value:function(e){void 0===this.changedDelta&&(this.changedDelta=0);var t=Math.max(-1,Math.min(1,-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)),i=this.content.scale,n=i*(100+t*this.option("wheelFactor"))/100,n=t<0&&Math.abs(i-this.option("minScale"))<.01||0<t&&Math.abs(i-this.option("maxScale"))<.01?(this.changedDelta+=Math.abs(t),i):(this.changedDelta=0,Math.max(Math.min(n,this.option("maxScale")),this.option("minScale")));this.changedDelta>this.option("wheelLimit")||(e.preventDefault(),n===i)||(t=this.$content.getBoundingClientRect(),i=e.clientX-t.left,e=e.clientY-t.top,this.zoomTo(n,{x:i,y:e}))}},{key:"zoomWithClick",value:function(e){var t=this.$content.getClientRects()[0],i=e.clientX-t.left,e=e.clientY-t.top;this.toggleZoom({x:i,y:e})}},{key:"attachEvents",value:function(){var r=this,l=(this.$content.addEventListener("load",this.onLoad),this.$container.addEventListener("wheel",this.onWheel,{passive:!1}),this.$container.addEventListener("click",this.onClick,{passive:!1}),this.initObserver(),new j(this.$container,{start:function(e,t){if(!r.option("touch"))return!1;if(!(r.velocity.scale<0)){if(!l.currentPointers.length){if(-1!==["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(t.target.nodeName))return!1;if(r.option("textSelection")&&function(e,t,i){for(var n=e.childNodes,o=document.createRange(),s=0;s<n.length;s++){var a=n[s];if(a.nodeType===Node.TEXT_NODE){o.selectNodeContents(a);var r=o.getBoundingClientRect();if(t>=r.left&&i>=r.top&&t<=r.right&&i<=r.bottom)return a}}}(t.target,t.clientX,t.clientY))return!1;if(g(t.target))return!1}return!1!==r.trigger("touchStart",t)&&(r.state="pointerdown",r.resetDragPosition(),r.dragPosition.midPoint=null,r.dragPosition.time=Date.now(),!0)}},move:function(e,t,i){if("pointerdown"===r.state)if(0!=r.trigger("touchMove",i)){if(!(t.length<2&&1==r.option("panOnlyZoomed")&&r.content.width<=r.viewport.width&&r.content.height<=r.viewport.height&&r.transform.scale<=r.option("baseScale"))&&(!(1<t.length)||r.option("zoom")&&!1!==r.option("pinchToZoom"))){i.preventDefault(),i.stopPropagation();var n=f(e[0],e[1]),o=f(t[0],t[1]),s=o.clientX-n.clientX,n=o.clientY-n.clientY,e=W(e[0],e[1]),a=W(t[0],t[1]),a=e?a/e:1,e=(r.dragOffset.x+=s,r.dragOffset.y+=n,r.dragOffset.scale*=a,r.dragOffset.time=Date.now()-r.dragPosition.time,1===r.dragStart.scale&&r.option("lockAxis"));if(e&&!r.lockAxis){if(Math.abs(r.dragOffset.x)<6&&Math.abs(r.dragOffset.y)<6)return;"xy"===e?(s=Math.abs(180*Math.atan2(r.dragOffset.y,r.dragOffset.x)/Math.PI),r.lockAxis=45<s&&s<135?"y":"x"):r.lockAxis=e}r.lockAxis&&(r.dragOffset["x"===r.lockAxis?"y":"x"]=0),r.$container.classList.add(r.option("draggingClass")),r.transform.scale===r.option("baseScale")&&"y"===r.lockAxis||(r.dragPosition.x=r.dragStart.x+r.dragOffset.x),r.transform.scale===r.option("baseScale")&&"x"===r.lockAxis||(r.dragPosition.y=r.dragStart.y+r.dragOffset.y),r.dragPosition.scale=r.dragStart.scale*r.dragOffset.scale,1<t.length?(a=(n=f(l.startPointers[0],l.startPointers[1])).clientX-r.dragStart.rect.x,s=n.clientY-r.dragStart.rect.y,t=(e=r.getZoomDelta(r.content.scale*r.dragOffset.scale,a,s)).deltaX,n=e.deltaY,r.dragPosition.x-=t,r.dragPosition.y-=n,r.dragPosition.midPoint=o):r.setDragResistance(),r.transform={x:r.dragPosition.x,y:r.dragPosition.y,scale:r.dragPosition.scale},r.startAnimation()}}else i.preventDefault()},end:function(e,t){var i;"pointerdown"===r.state&&(r._dragOffset=y({},r.dragOffset),l.currentPointers.length?r.resetDragPosition():(r.state="decel",r.friction=r.option("decelFriction"),r.recalculateTransform(),r.$container.classList.remove(r.option("draggingClass")),!1!==r.trigger("touchEnd",t)&&"decel"===r.state&&(t=r.option("minScale"),r.transform.scale<t?r.zoomTo(t,{friction:.64}):(t=r.option("maxScale"),.01<r.transform.scale-t&&(e=r.dragPosition.midPoint||e,i=r.$content.getClientRects()[0],r.zoomTo(t,{friction:.64,x:e.clientX-i.left,y:e.clientY-i.top}))))))}}));this.pointerTracker=l}},{key:"initObserver",value:function(){var t=this;this.resizeObserver||(this.resizeObserver=new R(function(){t.updateTimer||(t.updateTimer=setTimeout(function(){var e=t.$container.getBoundingClientRect();e.width&&e.height&&(1<Math.abs(e.width-t.container.width)||1<Math.abs(e.height-t.container.height))&&(t.isAnimating()&&t.endAnimation(!0),t.updateMetrics(),t.panTo({x:t.content.x,y:t.content.y,scale:t.option("baseScale"),friction:0})),t.updateTimer=null},t.updateRate))}),this.resizeObserver.observe(this.$container))}},{key:"resetDragPosition",value:function(){this.lockAxis=null,this.friction=this.option("friction"),this.velocity={x:0,y:0,scale:0};var e=this.content,t=e.x,i=e.y,e=e.scale;this.dragStart={rect:this.$content.getBoundingClientRect(),x:t,y:i,scale:e},this.dragPosition=y(y({},this.dragPosition),{},{x:t,y:i,scale:e}),this.dragOffset={x:0,y:0,scale:1,time:0}}},{key:"updateMetrics",value:function(e){!0!==e&&this.trigger("beforeUpdate");var t,i=this.$container,n=this.$content,o=this.$viewport,s=this.$content instanceof HTMLImageElement,a=this.option("zoom"),r=this.option("resizeParent",a),l=(l=this.$content,Math.max(parseFloat(l.naturalWidth||0),parseFloat(l.width&&l.width.baseVal&&l.width.baseVal.value||0),parseFloat(l.offsetWidth||0),parseFloat(l.scrollWidth||0))),c=(c=this.$content,Math.max(parseFloat(c.naturalHeight||0),parseFloat(c.height&&c.height.baseVal&&c.height.baseVal.value||0),parseFloat(c.offsetHeight||0),parseFloat(c.scrollHeight||0))),d=(Object.assign(n.style,{width:"",height:"",maxWidth:"",maxHeight:""}),r&&Object.assign(o.style,{width:"",height:""}),this.option("ratio")),h=l=w(l*d),d=c=w(c*d),u=n.getBoundingClientRect(),f=o.getBoundingClientRect(),i=o==i?f:i.getBoundingClientRect(),p=Math.max(o.offsetWidth,w(f.width)),f=Math.max(o.offsetHeight,w(f.height)),v=window.getComputedStyle(o);p-=parseFloat(v.paddingLeft)+parseFloat(v.paddingRight),f-=parseFloat(v.paddingTop)+parseFloat(v.paddingBottom),this.viewport.width=p,this.viewport.height=f,a&&((.1<Math.abs(l-u.width)||.1<Math.abs(c-u.height))&&(v=function(e,t,i,n){i=Math.min(i/e||0,n/t);return{width:e*i||0,height:t*i||0}}(l,c,Math.min(l,u.width),Math.min(c,u.height)),h=w(v.width),d=w(v.height)),Object.assign(n.style,{width:"".concat(h,"px"),height:"".concat(d,"px"),transform:""})),r&&(Object.assign(o.style,{width:"".concat(h,"px"),height:"".concat(d,"px")}),this.viewport=y(y({},this.viewport),{},{width:h,height:d})),s&&a&&"function"!=typeof this.options.maxScale&&(t=this.option("maxScale"),this.options.maxScale=function(){return 0<this.content.origWidth&&0<this.content.fitWidth?this.content.origWidth/this.content.fitWidth:t}),this.content=y(y({},this.content),{},{origWidth:l,origHeight:c,fitWidth:h,fitHeight:d,width:h,height:d,scale:1,isZoomable:a}),this.container={width:i.width,height:i.height},!0!==e&&this.trigger("afterUpdate")}},{key:"zoomIn",value:function(e){this.zoomTo(this.content.scale+(e||this.option("step")))}},{key:"zoomOut",value:function(e){this.zoomTo(this.content.scale-(e||this.option("step")))}},{key:"toggleZoom",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.option("maxScale"),i=this.option("baseScale"),i=this.content.scale>i+.5*(t-i)?i:t;this.zoomTo(i,e)}},{key:"zoomTo",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.option("baseScale"),t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.x,i=void 0===i?null:i,t=t.y,t=void 0===t?null:t,e=Math.max(Math.min(e,this.option("maxScale")),this.option("minScale")),n=w(this.content.scale/(this.content.width/this.content.fitWidth),1e7),n=(null===i&&(i=this.content.width*n*.5),null===t&&(t=this.content.height*n*.5),this.getZoomDelta(e,i,t)),o=n.deltaX,n=n.deltaY,i=this.content.x-o,t=this.content.y-n;this.panTo({x:i,y:t,scale:e,friction:this.option("zoomFriction")})}},{key:"getZoomDelta",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=this.content.fitWidth*this.content.scale,o=this.content.fitHeight*this.content.scale;return{deltaX:(this.content.fitWidth*e-n)*(0<t&&n?t/n:0),deltaY:(this.content.fitHeight*e-o)*(0<i&&o?i/o:0)}}},{key:"panTo",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.x,i=void 0===i?this.content.x:i,n=t.y,n=void 0===n?this.content.y:n,o=t.scale,s=t.friction,s=void 0===s?this.option("friction"):s,t=t.ignoreBounds,o=o||this.content.scale||1;void 0!==t&&t||(e=(t=this.getBounds(o)).boundX,t=t.boundY,e&&(i=Math.max(Math.min(i,e.to),e.from)),t&&(n=Math.max(Math.min(n,t.to),t.from))),this.friction=s,this.transform=y(y({},this.transform),{},{x:i,y:n,scale:o}),s?(this.state="panning",this.velocity={x:(1/this.friction-1)*(i-this.content.x),y:(1/this.friction-1)*(n-this.content.y),scale:(1/this.friction-1)*(o-this.content.scale)},this.startAnimation()):this.endAnimation()}},{key:"startAnimation",value:function(){var e=this;this.rAF?cancelAnimationFrame(this.rAF):this.trigger("startAnimation"),this.rAF=requestAnimationFrame(function(){return e.animate()})}},{key:"animate",value:function(){var e=this;if(this.setEdgeForce(),this.setDragForce(),this.velocity.x*=this.friction,this.velocity.y*=this.friction,this.velocity.scale*=this.friction,this.content.x+=this.velocity.x,this.content.y+=this.velocity.y,this.content.scale+=this.velocity.scale,this.isAnimating())this.setTransform();else if("pointerdown"!==this.state)return void this.endAnimation();this.rAF=requestAnimationFrame(function(){return e.animate()})}},{key:"getBounds",value:function(e){var t,i,n,o,s,a,r=this.boundX,l=this.boundY;return void 0!==r&&void 0!==l||(r={from:0,to:0},l={from:0,to:0},e=e||this.transform.scale,i=(a=this.content.fitWidth)*e,e=(t=this.content.fitHeight)*e,n=this.viewport.width,o=this.viewport.height,a<=n?(r.from=w((s=.5*(n-i))-(a=.5*(i-a))),r.to=w(s+a)):r.from=w(n-i),t<=o?(l.from=w((s=.5*(o-e))-(a=.5*(e-t))),l.to=w(s+a)):l.from=w(o-i)),{boundX:r,boundY:l}}},{key:"setEdgeForce",value:function(){var e,t,i,n,o,s,a;"decel"===this.state&&(i=this.option("bounceForce"),a=(n=this.getBounds(Math.max(this.transform.scale,this.content.scale))).boundX,n=n.boundY,a&&(s=this.content.x<a.from,o=this.content.x>a.to),n&&(e=this.content.y<n.from,t=this.content.y>n.to),(s||o)&&(o=((s?a.from:a.to)-this.content.x)*i,(s=this.content.x+(this.velocity.x+o)/this.friction)>=a.from&&s<=a.to&&(o+=this.velocity.x),this.velocity.x=o,this.recalculateTransform()),(e||t)&&(s=((e?n.from:n.to)-this.content.y)*i,(a=this.content.y+(s+this.velocity.y)/this.friction)>=n.from&&a<=n.to&&(s+=this.velocity.y),this.velocity.y=s,this.recalculateTransform()))}},{key:"setDragResistance",value:function(){var e,t,i,n,o,s;"pointerdown"===this.state&&(o=(i=this.getBounds(this.dragPosition.scale)).boundX,i=i.boundY,o&&(n=this.dragPosition.x<o.from,s=this.dragPosition.x>o.to),i&&(e=this.dragPosition.y<i.from,t=this.dragPosition.y>i.to),!n&&!s||n&&s||(n=(s=n?o.from:o.to)-this.dragPosition.x,this.dragPosition.x=s-.3*n),!e&&!t||e&&t||(s=(o=e?i.from:i.to)-this.dragPosition.y,this.dragPosition.y=o-.3*s))}},{key:"setDragForce",value:function(){"pointerdown"===this.state&&(this.velocity.x=this.dragPosition.x-this.content.x,this.velocity.y=this.dragPosition.y-this.content.y,this.velocity.scale=this.dragPosition.scale-this.content.scale)}},{key:"recalculateTransform",value:function(){this.transform.x=this.content.x+this.velocity.x/(1/this.friction-1),this.transform.y=this.content.y+this.velocity.y/(1/this.friction-1),this.transform.scale=this.content.scale+this.velocity.scale/(1/this.friction-1)}},{key:"isAnimating",value:function(){return!(!this.friction||!(.05<Math.abs(this.velocity.x)||.05<Math.abs(this.velocity.y)||.05<Math.abs(this.velocity.scale)))}},{key:"setTransform",value:function(e){var t,i,n,o;e?(t=w(this.transform.x),i=w(this.transform.y),n=this.transform.scale,this.content=y(y({},this.content),{},{x:t,y:i,scale:n})):(t=w(this.content.x),i=w(this.content.y),n=this.content.scale/(this.content.width/this.content.fitWidth),this.content=y(y({},this.content),{},{x:t,y:i})),this.trigger("beforeTransform"),t=w(this.content.x),i=w(this.content.y),e&&this.option("zoom")?(e=w(this.content.fitWidth*n),o=w(this.content.fitHeight*n),this.content.width=e,this.content.height=o,this.transform=y(y({},this.transform),{},{width:e,height:o,scale:n}),Object.assign(this.$content.style,{width:"".concat(e,"px"),height:"".concat(o,"px"),maxWidth:"none",maxHeight:"none",transform:"translate3d(".concat(t,"px, ").concat(i,"px, 0) scale(1)")})):this.$content.style.transform="translate3d(".concat(t,"px, ").concat(i,"px, 0) scale(").concat(n,")"),this.trigger("afterTransform")}},{key:"endAnimation",value:function(e){cancelAnimationFrame(this.rAF),this.rAF=null,this.velocity={x:0,y:0,scale:0},this.setTransform(!0),this.state="ready",this.handleCursor(),!0!==e&&this.trigger("endAnimation")}},{key:"handleCursor",value:function(){var e=this.option("draggableClass");e&&this.option("touch")&&(1==this.option("panOnlyZoomed")&&this.content.width<=this.viewport.width&&this.content.height<=this.viewport.height&&this.transform.scale<=this.option("baseScale")?this.$container.classList.remove(e):this.$container.classList.add(e))}},{key:"detachEvents",value:function(){this.$content.removeEventListener("load",this.onLoad),this.$container.removeEventListener("wheel",this.onWheel,{passive:!1}),this.$container.removeEventListener("click",this.onClick,{passive:!1}),this.pointerTracker&&(this.pointerTracker.stop(),this.pointerTracker=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"destroy",value:function(){"destroy"!==this.state&&(this.state="destroy",clearTimeout(this.updateTimer),this.updateTimer=null,cancelAnimationFrame(this.rAF),this.rAF=null,this.detachEvents(),this.detachPlugins(),this.resetDragPosition())}}]),S);function S(e){var t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r(this,S),(t=B.call(this,p(!0,{},H,i))).state="init",t.$container=e;for(var n=0,o=["onLoad","onWheel","onClick"];n<o.length;n++){var s=o[n];t[s]=t[s].bind(a(t))}return t.initLayout(),t.resetValues(),t.attachPlugins(S.Plugins),t.trigger("init"),t.updateMetrics(),t.attachEvents(),t.trigger("ready"),!1===t.option("centerOnStart")?t.state="ready":t.panTo({friction:0}),t}function C(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};r(this,C),this.options=p(!0,{},e),this.plugins=[],this.events={};for(var t=0,i=["on","once"];t<i.length;t++)for(var n=i[t],o=0,s=Object.entries(this.options[n]||{});o<s.length;o++){var a=s[o];this[n].apply(this,b(a))}}function E(e){var s=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.start,i=void 0===i?function(){return!0}:i,n=t.move,n=void 0===n?function(){}:n,t=t.end,t=void 0===t?function(){}:t;r(this,E),this.element=e,this.startPointers=[],this.currentPointers=[],this.startCallback=i,this.moveCallback=n,this.endCallback=t,this.onStart=function(e){if(!e.button||0===e.button){var t=new d(e);if(!1===s.startCallback(t,e))return!1;e.preventDefault(),(i=window.getSelection?window.getSelection():document.selection)&&i.rangeCount&&i.getRangeAt(0).getClientRects().length&&(i.removeAllRanges?i.removeAllRanges():i.empty&&i.empty()),s.currentPointers.push(t),s.startPointers.push(t),(e.target&&"setPointerCapture"in e.target?e.target:s.element).setPointerCapture(e.pointerId),s.element.addEventListener("pointermove",s.onMove),s.element.addEventListener("pointerup",s.onEnd),s.element.addEventListener("pointercancel",s.onEnd)}var i},this.onMove=function(e){for(var t=s.currentPointers.slice(),i=[],n=0,o=[new d(e)];n<o.length;n++)!function(){var t=o[n],e=s.currentPointers.findIndex(function(e){return e.id===t.id});if(e<0)return;i.push(t),s.currentPointers[e]=t}();i.length&&s.moveCallback(t,s.currentPointers,e)},this.onEnd=function(e){var t=new d(e),i=s.currentPointers.findIndex(function(e){return e.id===t.id});if(-1===i)return!1;s.currentPointers.splice(i,1),s.startPointers.splice(i,1),s.endCallback(t,e),s.currentPointers.length||(s.element.removeEventListener("pointermove",s.onMove),s.element.removeEventListener("pointerup",s.onEnd),s.element.removeEventListener("pointercancel",s.onEnd))},this.element.addEventListener("pointerdown",this.onStart)}x.version="4.0.7",x.Plugins={};function V(t,i){var n=0;return function(){var e=(new Date).getTime();if(!(e-n<i))return n=e,t.apply(void 0,arguments)}}t(q,[{key:"option",value:function(e){return this.carousel.option("Navigation.".concat(e))}},{key:"createButton",value:function(t){var e,i=this,n=document.createElement("button"),o=(n.setAttribute("title",this.carousel.localize("{{".concat(t.toUpperCase(),"}}"))),this.option("classNames.button")+" "+this.option("classNames.".concat(t)));return(e=n.classList).add.apply(e,b(o.split(" "))),n.setAttribute("tabindex","0"),n.innerHTML=this.carousel.localize(this.option("".concat(t,"Tpl"))),n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),i.carousel["slide".concat("next"===t?"Next":"Prev")]()}),n}},{key:"build",value:function(){this.$container||(this.$container=document.createElement("div"),this.$container.classList.add(this.option("classNames.main")),this.carousel.$container.appendChild(this.$container)),this.$next||(this.$next=this.createButton("next"),this.$container.appendChild(this.$next)),this.$prev||(this.$prev=this.createButton("prev"),this.$container.appendChild(this.$prev))}},{key:"onRefresh",value:function(){var e=this.carousel.pages.length;e<=1||1<e&&this.carousel.elemDimWidth<this.carousel.wrapDimWidth&&!Number.isInteger(this.carousel.option("slidesPerPage"))?this.cleanup():(this.build(),this.$prev.removeAttribute("disabled"),this.$next.removeAttribute("disabled"),this.carousel.option("infiniteX",this.carousel.option("infinite"))||(this.carousel.page<=0&&this.$prev.setAttribute("disabled",""),this.carousel.page>=e-1&&this.$next.setAttribute("disabled","")))}},{key:"cleanup",value:function(){this.$prev&&this.$prev.remove(),this.$prev=null,this.$next&&this.$next.remove(),this.$next=null,this.$container&&this.$container.remove(),this.$container=null}},{key:"attach",value:function(){this.carousel.on("refresh change",this.onRefresh)}},{key:"detach",value:function(){this.carousel.off("refresh change",this.onRefresh),this.cleanup()}}]);var D=q;function q(e){r(this,q),this.$container=null,this.$prev=null,this.$next=null,this.carousel=e,this.onRefresh=this.onRefresh.bind(this)}D.defaults={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',classNames:{main:"carousel__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}};t(U,[{key:"buildList",value:function(){var e,i=this;if(!(this.carousel.pages.length<this.carousel.option("Dots.minSlideCount")))return(e=document.createElement("ol")).classList.add("carousel__dots"),e.addEventListener("click",function(e){var t;"page"in e.target.dataset&&(e.preventDefault(),e.stopPropagation(),(e=parseInt(e.target.dataset.page,10))!==(t=i.carousel).page&&(t.pages.length<3&&t.option("infinite")?t[0==e?"slidePrev":"slideNext"]():t.slideTo(e)))}),this.$list=e,this.carousel.$container.appendChild(e),this.carousel.$container.classList.add("has-dots"),e}},{key:"removeList",value:function(){this.$list&&(this.$list.parentNode.removeChild(this.$list),this.$list=null),this.carousel.$container.classList.remove("has-dots")}},{key:"rebuildDots",value:function(){var t=this,e=!!this.$list,i=this.carousel.pages.length;if(i<2)e&&this.removeList();else{e||this.buildList();var n=this.$list.children.length;if(i<n)for(var o=i;o<n;o++)this.$list.removeChild(this.$list.lastChild);else{for(var s=n;s<i;s++)!function(e){var i=document.createElement("li");i.classList.add("carousel__dot"),i.dataset.page=e,i.setAttribute("role","button"),i.setAttribute("tabindex","0"),i.setAttribute("title",t.carousel.localize("{{GOTO}}",[["%d",e+1]])),i.addEventListener("keydown",function(e){var t,e=e.code;"Enter"===e||"NumpadEnter"===e?t=i:"ArrowRight"===e?t=i.nextSibling:"ArrowLeft"===e&&(t=i.previousSibling),t&&t.click()}),t.$list.appendChild(i)}(s);this.setActiveDot()}}}},{key:"setActiveDot",value:function(){var e;this.$list&&(this.$list.childNodes.forEach(function(e){e.classList.remove("is-selected")}),(e=this.$list.childNodes[this.carousel.page])&&e.classList.add("is-selected"))}},{key:"onChange",value:function(){this.setActiveDot()}},{key:"onRefresh",value:function(){this.rebuildDots()}},{key:"attach",value:function(){this.carousel.on(this.events)}},{key:"detach",value:function(){this.removeList(),this.carousel.off(this.events),this.carousel=null}}]);var Y=U,L=(t(X,[{key:"addAsTargetFor",value:function(e){this.target=this.carousel,this.nav=e,this.attachEvents()}},{key:"addAsNavFor",value:function(e){this.target=e,this.nav=this.carousel,this.attachEvents()}},{key:"attachEvents",value:function(){this.nav.options.initialSlide=this.target.options.initialPage,this.nav.on("ready",this.onNavReady),this.nav.on("createSlide",this.onNavCreateSlide),this.nav.on("Panzoom.click",this.onNavClick),this.target.on("change",this.onTargetChange),this.target.on("Panzoom.afterUpdate",this.onTargetChange)}},{key:"onNavReady",value:function(){this.onTargetChange(!0)}},{key:"onNavClick",value:function(e,t,i){var n=i.target.closest(".carousel__slide");n&&(i.stopPropagation(),i=parseInt(n.dataset.index,10),n=this.target.findPageForSlide(i),this.target.page!==n&&this.target.slideTo(n,{friction:this.friction}),this.markSelectedSlide(i))}},{key:"onNavCreateSlide",value:function(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}},{key:"onTargetChange",value:function(){var e=this.target.pages[this.target.page].indexes[0],t=this.nav.findPageForSlide(e);this.nav.slideTo(t),this.markSelectedSlide(e)}},{key:"markSelectedSlide",value:function(e){this.selectedIndex=e,b(this.nav.slides).filter(function(e){return e.$el&&e.$el.classList.remove("is-nav-selected")});e=this.nav.slides[e];e&&e.$el&&e.$el.classList.add("is-nav-selected")}},{key:"attach",value:function(e){e=e.options.Sync;(e.target||e.nav)&&(e.target?this.addAsNavFor(e.target):e.nav&&this.addAsTargetFor(e.nav),this.friction=e.friction)}},{key:"detach",value:function(){this.nav&&(this.nav.off("ready",this.onNavReady),this.nav.off("Panzoom.click",this.onNavClick),this.nav.off("createSlide",this.onNavCreateSlide)),this.target&&(this.target.off("Panzoom.afterUpdate",this.onTargetChange),this.target.off("change",this.onTargetChange))}}]),X);function X(e){r(this,X),this.carousel=e,this.selectedIndex=null,this.friction=0,this.onNavReady=this.onNavReady.bind(this),this.onNavClick=this.onNavClick.bind(this),this.onNavCreateSlide=this.onNavCreateSlide.bind(this),this.onTargetChange=this.onTargetChange.bind(this)}function U(e){r(this,U),this.carousel=e,this.$list=null,this.events={change:this.onChange.bind(this),refresh:this.onRefresh.bind(this)}}L.defaults={friction:.92};var Z,D={Navigation:D,Dots:Y,Sync:L},K={slides:[],preload:0,slidesPerPage:"auto",initialPage:null,initialSlide:null,friction:.92,center:!0,infinite:!0,fill:!0,dragFree:!1,prefix:"",classNames:{viewport:"carousel__viewport",track:"carousel__track",slide:"carousel__slide",slideSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}},$=(i(O,m),Z=n(O),t(O,[{key:"init",value:function(){this.pages=[],this.page=this.pageIndex=null,this.prevPage=this.prevPageIndex=null,this.attachPlugins(O.Plugins),this.trigger("init"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.$track&&this.pages.length&&(this.$track.style.transform="translate3d(".concat(-1*this.pages[this.page].left,"px, 0px, 0) scale(1)")),this.manageSlideVisiblity(),this.initPanzoom(),this.state="ready",this.trigger("ready")}},{key:"initLayout",value:function(){var e,t=this.option("prefix"),i=this.option("classNames");this.$viewport=this.option("viewport")||this.$container.querySelector(".".concat(t).concat(i.viewport)),this.$viewport||(this.$viewport=document.createElement("div"),this.$viewport.classList.add(t+i.viewport),(e=this.$viewport).append.apply(e,b(this.$container.childNodes)),this.$container.appendChild(this.$viewport)),this.$track=this.option("track")||this.$container.querySelector(".".concat(t).concat(i.track)),this.$track||(this.$track=document.createElement("div"),this.$track.classList.add(t+i.track),(e=this.$track).append.apply(e,b(this.$viewport.childNodes)),this.$viewport.appendChild(this.$track))}},{key:"initSlides",value:function(){var t=this;this.slides=[],this.$viewport.querySelectorAll(".".concat(this.option("prefix")).concat(this.option("classNames.slide"))).forEach(function(e){e={$el:e,isDom:!0};t.slides.push(e),t.trigger("createSlide",e,t.slides.length)}),Array.isArray(this.options.slides)&&(this.slides=p(!0,b(this.slides),this.options.slides))}},{key:"updateMetrics",value:function(){var n,o=this,s=0,a=[],i=(this.slides.forEach(function(e,t){var i=e.$el,i=e.isDom||!n?o.getSlideMetrics(i):n;e.index=t,e.width=i,e.left=s,s+=n=i,a.push(t)}),Math.max(this.$track.offsetWidth,w(this.$track.getBoundingClientRect().width))),e=getComputedStyle(this.$track),t=(i-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),this.contentWidth=s,this.viewportWidth=i,[]),r=this.option("slidesPerPage");if(Number.isInteger(r)&&i<s)for(var l=0;l<this.slides.length;l+=r)t.push({indexes:a.slice(l,l+r),slides:this.slides.slice(l,l+r)});else for(var c=0,d=0,h=0;h<this.slides.length;h+=1){var u=this.slides[h];(!t.length||d+u.width>i)&&(t.push({indexes:[],slides:[]}),c=t.length-1,d=0),d+=u.width,t[c].indexes.push(h),t[c].slides.push(u)}var f=this.option("center"),p=this.option("fill");t.forEach(function(e,t){e.index=t,e.width=e.slides.reduce(function(e,t){return e+t.width},0),e.left=e.slides[0].left,f&&(e.left+=.5*(i-e.width)*-1),p&&!o.option("infiniteX",o.option("infinite"))&&i<s&&(e.left=Math.max(e.left,0),e.left=Math.min(e.left,s-i))});var v,g,m=[],e=(t.forEach(function(e){e=y({},e);v&&e.left===v.left?(v.width+=e.width,v.slides=[].concat(b(v.slides),b(e.slides)),v.indexes=[].concat(b(v.indexes),b(e.indexes))):(e.index=m.length,v=e,m.push(e))}),this.pages=m,this.page);null===e&&(e=null!==(g=this.option("initialSlide"))?this.findPageForSlide(g):this.option("initialPage",0),m[e]||(e=m.length&&e>m.length?m[m.length-1].index:0),this.page=e,this.pageIndex=e),this.updatePanzoom(),this.trigger("refresh")}},{key:"getSlideMetrics",value:function(e){e||(i=this.slides[0],(e=document.createElement("div")).dataset.isTestEl=1,e.style.visibility="hidden",e.classList.add(this.option("prefix")+this.option("classNames.slide")),i.customClass&&(t=e.classList).add.apply(t,b(i.customClass.split(" "))),this.$track.prepend(e));var t=Math.max(e.offsetWidth,w(e.getBoundingClientRect().width)),i=e.currentStyle||window.getComputedStyle(e),t=t+(parseFloat(i.marginLeft)||0)+(parseFloat(i.marginRight)||0);return e.dataset.isTestEl&&e.remove(),t}},{key:"findPageForSlide",value:function(t){var e=this.pages.find(function(e){return-1<e.indexes.indexOf(t)});return e?e.index:null}},{key:"slideNext",value:function(){this.slideTo(this.pageIndex+1)}},{key:"slidePrev",value:function(){this.slideTo(this.pageIndex-1)}},{key:"slideTo",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.x,e=void 0===i?-1*this.setPage(e,!0):i,i=t.y,i=void 0===i?0:i,t=t.friction,t=void 0===t?this.option("friction"):t;this.Panzoom.content.x===e&&!this.Panzoom.velocity.x&&t||(this.Panzoom.panTo({x:e,y:i,friction:t,ignoreBounds:!0}),"ready"===this.state&&"ready"===this.Panzoom.state&&this.trigger("settle"))}},{key:"initPanzoom",value:function(){var o=this,e=(this.Panzoom&&this.Panzoom.destroy(),p(!0,{},{content:this.$track,wrapInner:!1,resizeParent:!1,zoom:!1,click:!1,lockAxis:"x",x:this.pages.length?-1*this.pages[this.page].left:0,centerOnStart:!1,textSelection:function(){return o.option("textSelection",!1)},panOnlyZoomed:function(){return this.content.width<=this.viewport.width}},this.option("Panzoom")));this.Panzoom=new x(this.$container,e),this.Panzoom.on({"*":function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return o.trigger.apply(o,["Panzoom.".concat(e)].concat(i))},afterUpdate:function(){o.updatePage()},beforeTransform:this.onBeforeTransform.bind(this),touchEnd:this.onTouchEnd.bind(this),endAnimation:function(){o.trigger("settle")}}),this.updateMetrics(),this.manageSlideVisiblity()}},{key:"updatePanzoom",value:function(){this.Panzoom&&(this.Panzoom.content=y(y({},this.Panzoom.content),{},{fitWidth:this.contentWidth,origWidth:this.contentWidth,width:this.contentWidth}),1<this.pages.length&&this.option("infiniteX",this.option("infinite"))?this.Panzoom.boundX=null:this.pages.length&&(this.Panzoom.boundX={from:-1*this.pages[this.pages.length-1].left,to:-1*this.pages[0].left}),this.option("infiniteY",this.option("infinite"))?this.Panzoom.boundY=null:this.Panzoom.boundY={from:0,to:0},this.Panzoom.handleCursor())}},{key:"manageSlideVisiblity",value:function(){var a=this,r=this.contentWidth,l=this.viewportWidth,c=this.Panzoom?-1*this.Panzoom.content.x:this.pages.length?this.pages[this.page].left:0,d=this.option("preload"),h=this.option("infiniteX",this.option("infinite")),u=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-left")),f=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-right")),n=(this.slides.forEach(function(e){var t=0,i=c-u,n=c+l+f,o=(n+=d*(l+u+f),e.left+e.width>(i-=d*(l+u+f))&&e.left<n),s=(i=c+r-u,n=c+r+l+f,i-=d*(l+u+f),h&&e.left+e.width>i&&e.left<n),i=(i=c-r-u,n=c-r+l+f,i-=d*(l+u+f),h&&e.left+e.width>i&&e.left<n);s||o||i?(a.createSlideEl(e),o&&(t=0),s&&(t=-1),i&&(t=1),e.left+e.width>c&&e.left<=c+l+f&&(t=0)):a.removeSlideEl(e),e.hasDiff=t}),0),o=0;this.slides.forEach(function(e,t){var i=0;e.$el?(t!==n||e.hasDiff?i=o+e.hasDiff*r:o=0,e.$el.style.left=.1<Math.abs(i)?"".concat(o+e.hasDiff*r,"px"):"",n++):o+=e.width}),this.markSelectedSlides()}},{key:"createSlideEl",value:function(e){if(e){var t,i,n,o,s;if(!e.$el)return(t=document.createElement("div")).dataset.index=e.index,t.classList.add(this.option("prefix")+this.option("classNames.slide")),e.customClass&&(o=t.classList).add.apply(o,b(e.customClass.split(" "))),e.html&&(t.innerHTML=e.html),i=[],this.slides.forEach(function(e,t){e.$el&&i.push(t)}),n=e.index,o=null,i.length&&(s=i.reduce(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}),o=this.slides[s]),this.$track.insertBefore(t,o&&o.$el?o.index<e.index?o.$el.nextSibling:o.$el:null),e.$el=t,this.trigger("createSlide",e,n),e;parseInt(e.$el.dataset.index,10)!==e.index&&(e.$el.dataset.index=e.index,e.$el.querySelectorAll("[data-lazy-src]").forEach(function(e){var t=e.dataset.lazySrc;e instanceof HTMLImageElement?e.src=t:e.style.backgroundImage="url('".concat(t,"')")}),(s=e.$el.dataset.lazySrc)&&(e.$el.style.backgroundImage="url('".concat(s,"')")),e.state="ready")}}},{key:"removeSlideEl",value:function(e){e.$el&&!e.isDom&&(this.trigger("removeSlide",e),e.$el.remove(),e.$el=null)}},{key:"markSelectedSlides",value:function(){var o=this,s=this.option("classNames.slideSelected"),a="aria-hidden";this.slides.forEach(function(e,t){var i,n=e.$el;n&&((i=o.pages[o.page])&&i.indexes&&-1<i.indexes.indexOf(t)?(s&&!n.classList.contains(s)&&(n.classList.add(s),o.trigger("selectSlide",e)),n.removeAttribute(a)):(s&&n.classList.contains(s)&&(n.classList.remove(s),o.trigger("unselectSlide",e)),n.setAttribute(a,!0)))})}},{key:"updatePage",value:function(){this.updateMetrics(),this.slideTo(this.page,{friction:0})}},{key:"onBeforeTransform",value:function(){this.option("infiniteX",this.option("infinite"))&&this.manageInfiniteTrack(),this.manageSlideVisiblity()}},{key:"manageInfiniteTrack",value:function(){var e,t,i=this.contentWidth,n=this.viewportWidth;if(!(!this.option("infiniteX",this.option("infinite"))||this.pages.length<2||i<n))return t=!1,(e=this.Panzoom).content.x<-1*(i-n)&&(e.content.x+=i,this.pageIndex=this.pageIndex-this.pages.length,t=!0),e.content.x>n&&(e.content.x-=i,this.pageIndex=this.pageIndex+this.pages.length,t=!0),t&&"pointerdown"===e.state&&e.resetDragPosition(),t}},{key:"onTouchEnd",value:function(e,t){var i=this.option("dragFree");!i&&1<this.pages.length&&e.dragOffset.time<350&&Math.abs(e.dragOffset.y)<1&&5<Math.abs(e.dragOffset.x)?this[e.dragOffset.x<0?"slideNext":"slidePrev"]():i?(i=c(this.getPageFromPosition(-1*e.transform.x),2)[1],this.setPage(i)):this.slideToClosest()}},{key:"slideToClosest",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=c(this.getPageFromPosition(-1*this.Panzoom.content.x),2)[1];this.slideTo(t,e)}},{key:"getPageFromPosition",value:function(t){var e=this.pages.length,i=(this.option("center")&&(t+=.5*this.viewportWidth),Math.floor(t/this.contentWidth)),n=(t-=i*this.contentWidth,this.slides.find(function(e){return e.left<=t&&e.left+e.width>t}));return n?[n=this.findPageForSlide(n.index),n+i*e]:[0,0]}},{key:"setPage",value:function(e,t){var i,n,o=0,s=parseInt(e,10)||0,a=this.page,r=this.pageIndex,l=this.pages.length,c=this.contentWidth,d=this.viewportWidth;return e=(s%l+l)%l,this.option("infiniteX",this.option("infinite"))&&d<c?(d=Math.floor(s/l)||0,o=this.pages[e].left+d*c,!0===t&&2<l&&(d=-1*this.Panzoom.content.x,t=o-c,c=o+c,i=Math.abs(d-o),n=Math.abs(d-t),(d=Math.abs(d-c))<i&&d<=n?(o=c,s+=l):n<i&&n<d&&(o=t,s-=l))):(e=s=Math.max(0,Math.min(s,l-1)),o=this.pages.length?this.pages[e].left:0),this.page=e,this.pageIndex=s,null!==a&&e!==a&&(this.prevPage=a,this.prevPageIndex=r,this.trigger("change",e,a)),o}},{key:"destroy",value:function(){var t=this;this.state="destroy",this.slides.forEach(function(e){t.removeSlideEl(e)}),this.slides=[],this.Panzoom.destroy(),this.detachPlugins()}}]),O);function O(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(r(this,O),t=p(!0,{},K,t),(t=Z.call(this,t)).state="init",t.$container=e,t.$container instanceof HTMLElement)return t.slideNext=V(t.slideNext.bind(a(t)),250),t.slidePrev=V(t.slidePrev.bind(a(t)),250),t.init(),t;throw new Error("No root element provided")}$.version="4.0.7",$.Plugins=D;var G=!("undefined"==typeof window||!window.document||!window.document.createElement),Y=(t(Q,[{key:"onReady",value:function(){var e=window.visualViewport;e&&(this.viewport=e,this.startY=0,e.addEventListener("resize",this.onResize),this.updateViewport()),window.addEventListener("touchstart",this.onTouchstart,{passive:!1}),window.addEventListener("touchmove",this.onTouchmove,{passive:!1})}},{key:"onResize",value:function(){this.updateViewport()}},{key:"updateViewport",value:function(){var e,t,i,n=this.fancybox,o=this.viewport,s=o.scale||1,n=n.$container;n&&(i=t=e="",.1<s-1&&(e="".concat(o.width*s,"px"),t="".concat(o.height*s,"px"),i="translate3d(".concat(o.offsetLeft,"px, ").concat(o.offsetTop,"px, 0) scale(").concat(1/s,")")),n.style.width=e,n.style.height=t,n.style.transform=i)}},{key:"onTouchstart",value:function(e){this.startY=(e.touches?e.touches[0]:e).screenY}},{key:"onTouchmove",value:function(e){var t,i,n,o=this.startY,s=window.innerWidth/window.document.documentElement.clientWidth;e.cancelable&&!(1<e.touches.length||1!=s)&&(s=e.target,(s=g(s))?(t=window.getComputedStyle(s),t=parseInt(t.getPropertyValue("height"),10),i=o<=(n=(e.touches?e.touches[0]:e).screenY)&&0===s.scrollTop,n=n<=o&&s.scrollHeight-s.scrollTop===t,(i||n)&&e.preventDefault()):e.preventDefault())}},{key:"cleanup",value:function(){this.pendingUpdate&&(cancelAnimationFrame(this.pendingUpdate),this.pendingUpdate=null);var e=this.viewport;e&&(e.removeEventListener("resize",this.onResize),this.viewport=null),window.removeEventListener("touchstart",this.onTouchstart,!1),window.removeEventListener("touchmove",this.onTouchmove,!1)}},{key:"attach",value:function(){this.fancybox.on("initLayout",this.onReady)}},{key:"detach",value:function(){this.fancybox.off("initLayout",this.onReady),this.cleanup()}}]),Q),L=(t(J,[{key:"onPrepare",value:function(){this.getSlides().length<this.fancybox.option("Thumbs.minSlideCount")?this.state="disabled":!0===this.fancybox.option("Thumbs.autoStart")&&this.fancybox.Carousel.Panzoom.content.height>=this.fancybox.option("Thumbs.minScreenHeight")&&this.build()}},{key:"onClosing",value:function(){this.Carousel&&this.Carousel.Panzoom.detachEvents()}},{key:"onKeydown",value:function(e,t){t===e.option("Thumbs.key")&&this.toggle()}},{key:"build",value:function(){var e,i=this;this.$container||((e=document.createElement("div")).classList.add("fancybox__thumbs"),this.fancybox.$carousel.parentNode.insertBefore(e,this.fancybox.$carousel.nextSibling),this.Carousel=new $(e,p(!0,{Dots:!1,Navigation:!1,Sync:{friction:0},infinite:!1,center:!0,fill:!0,dragFree:!0,slidesPerPage:1,preload:1},this.fancybox.option("Thumbs.Carousel"),{Sync:{target:this.fancybox.Carousel},slides:this.getSlides()})),this.Carousel.Panzoom.on("wheel",function(e,t){t.preventDefault(),i.fancybox[t.deltaY<0?"prev":"next"]()}),this.$container=e,this.state="visible")}},{key:"getSlides",value:function(){var e,t=[],i=k(this.fancybox.items);try{for(i.s();!(e=i.n()).done;){var n=e.value,o=n.thumb;o&&t.push({html:'<div class="fancybox__thumb" style="background-image:url(\''.concat(o,"')\"></div>"),customClass:"has-thumb has-".concat(n.type||"image")})}}catch(e){i.e(e)}finally{i.f()}return t}},{key:"toggle",value:function(){"visible"===this.state?this.hide():"hidden"===this.state?this.show():this.build()}},{key:"show",value:function(){"hidden"===this.state&&(this.$container.style.display="",this.Carousel.Panzoom.attachEvents(),this.state="visible")}},{key:"hide",value:function(){"visible"===this.state&&(this.Carousel.Panzoom.detachEvents(),this.$container.style.display="none",this.state="hidden")}},{key:"cleanup",value:function(){this.Carousel&&(this.Carousel.destroy(),this.Carousel=null),this.$container&&(this.$container.remove(),this.$container=null),this.state="init"}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events),this.cleanup()}}]),J);function J(e){r(this,J),this.fancybox=e,this.$container=null,this.state="init";for(var t=0,i=["onPrepare","onClosing","onKeydown"];t<i.length;t++){var n=i[t];this[n]=this[n].bind(this)}this.events={prepare:this.onPrepare,closing:this.onClosing,keydown:this.onKeydown}}function Q(e){r(this,Q),this.fancybox=e,this.viewport=null,this.pendingUpdate=null;for(var t=0,i=["onReady","onResize","onTouchstart","onTouchmove"];t<i.length;t++){var n=i[t];this[n]=this[n].bind(this)}}L.defaults={minSlideCount:2,minScreenHeight:500,autoStart:!0,key:"t",Carousel:{}};function ee(e){return Object.entries(e).map(function(e){return e.map(encodeURIComponent).join("=")}).join("&")}var te={video:{autoplay:!0,ratio:16/9},youtube:{autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},vimeo:{hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},html5video:{tpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',format:""}},D=(t(ie,[{key:"onInit",value:function(){var e,t=k(this.fancybox.items);try{for(t.s();!(e=t.n()).done;){var i=e.value;this.processType(i)}}catch(e){t.e(e)}finally{t.f()}}},{key:"processType",value:function(e){if(e.html)return e.src=e.html,e.type="html",void delete e.html;var t,i,n=e.src||"",o=e.type||this.fancybox.options.type,s=null;n&&"string"!=typeof n||((s=n.match(/(?:youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i))?(t=ee(this.fancybox.option("Html.youtube")),i=encodeURIComponent(s[1]),e.videoId=i,e.src="https://www.youtube-nocookie.com/embed/".concat(i,"?").concat(t),e.thumb=e.thumb||"https://i.ytimg.com/vi/".concat(i,"/mqdefault.jpg"),e.vendor="youtube",o="video"):(s=n.match(/^.+vimeo.com\/(?:\/)?([\d]+)(.*)?/))?(t=ee(this.fancybox.option("Html.vimeo")),i=encodeURIComponent(s[1]),e.videoId=i,e.src="https://player.vimeo.com/video/".concat(i,"?").concat(t),e.vendor="vimeo",o="video"):(s=n.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src="//maps.google.".concat(s[1],"/?ll=").concat((s[2]?s[2]+"&z="+Math.floor(s[3])+(s[4]?s[4].replace(/^\//,"&"):""):s[4]+"").replace(/\?/,"&"),"&output=").concat(s[4]&&0<s[4].indexOf("layer=c")?"svembed":"embed"),o="map"):(s=n.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src="//maps.google.".concat(s[1],"/maps?q=").concat(s[2].replace("query=","q=").replace("api=1",""),"&output=embed"),o="map"),o||("#"===n.charAt(0)?o="inline":(s=n.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(o="html5video",e.format=e.format||"video/"+("ogv"===s[1]?"ogg":s[1])):n.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?o="image":n.match(/\.(pdf)((\?|#).*)?$/i)&&(o="pdf")),e.type=o||this.fancybox.option("defaultType","image"),"html5video"!==o&&"video"!==o||(e.video=p({},this.fancybox.option("Html.video"),e.video),e._width&&e._height?e.ratio=parseFloat(e._width)/parseFloat(e._height):e.ratio=e.ratio||e.video.ratio||te.video.ratio))}},{key:"onReady",value:function(){var t=this;this.fancybox.Carousel.slides.forEach(function(e){e.$el&&(t.setContent(e),e.index===t.fancybox.getSlide().index&&t.playVideo(e))})}},{key:"onCreateSlide",value:function(e,t,i){"ready"===this.fancybox.state&&this.setContent(i)}},{key:"loadInlineContent",value:function(e){var t,i;e.src instanceof HTMLElement?t=e.src:"string"==typeof e.src&&(i=2===(i=e.src.split("#",2)).length&&""===i[0]?i[1]:i[0],t=document.getElementById(i)),t?("clone"===e.type||t.$placeHolder?(i=(i=(t=t.cloneNode(!0)).getAttribute("id"))?"".concat(i,"--clone"):"clone-".concat(this.fancybox.id,"-").concat(e.index),t.setAttribute("id",i)):((i=document.createElement("div")).classList.add("fancybox-placeholder"),t.parentNode.insertBefore(i,t),t.$placeHolder=i),this.fancybox.setContent(e,t)):this.fancybox.setError(e,"{{ELEMENT_NOT_FOUND}}")}},{key:"loadAjaxContent",value:function(e){var t=this.fancybox,i=new XMLHttpRequest;t.showLoading(e),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&"ready"===t.state&&(t.hideLoading(e),200===i.status?t.setContent(e,i.responseText):t.setError(e,404===i.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))},i.open("GET",e.src),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(e.ajax||null),e.xhr=i}},{key:"loadIframeContent",value:function(t){var i=this,n=this.fancybox,o=document.createElement("iframe");if(o.className="fancybox__iframe",o.setAttribute("id","fancybox__iframe_".concat(n.id,"_").concat(t.index)),o.setAttribute("allow","autoplay; fullscreen"),o.setAttribute("scrolling","auto"),t.$iframe=o,"iframe"!==t.type||!1===t.preload)return o.setAttribute("src",t.src),this.fancybox.setContent(t,o),void this.resizeIframe(t);n.showLoading(t);var e=document.createElement("div");e.style.visibility="hidden",this.fancybox.setContent(t,e),e.appendChild(o),o.onerror=function(){n.setError(t,"{{IFRAME_ERROR}}")},o.onload=function(){n.hideLoading(t);var e=!1;o.isReady||(e=o.isReady=!0),o.src.length&&(o.parentNode.style.visibility="",i.resizeIframe(t),e&&n.revealContent(t))},o.setAttribute("src",t.src)}},{key:"setAspectRatio",value:function(e){var t,i,n,o=e.$content,s=e.ratio;o&&(t=e._width,e=e._height,(s||t&&e)&&(Object.assign(o.style,{width:t&&e?"100%":"",height:t&&e?"100%":"",maxWidth:"",maxHeight:""}),n=o.offsetWidth,i=o.offsetHeight,e=e||i,((t=t||n)>n||i<e)&&(t*=n=Math.min(n/t,i/e),e*=n),.01<Math.abs(t/e-s)&&(s<t/e?t=e*s:e=t/s),Object.assign(o.style,{width:"".concat(t,"px"),height:"".concat(e,"px")})))}},{key:"resizeIframe",value:function(e){var t=e.$iframe;if(t){var i=e._width||0,n=e._height||0,o=(i&&n&&(e.autoSize=!1),t.parentNode),s=o.style;if(!1!==e.preload&&!1!==e.autoSize)try{var a=window.getComputedStyle(o),r=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),l=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom),c=t.contentWindow.document,d=c.getElementsByTagName("html")[0],h=c.body;h.style.overflow="hidden",i=i||d.scrollWidth+r,s.width="".concat(i,"px"),h.style.overflow="",s.flex="0 0 auto",s.height="".concat(h.scrollHeight,"px"),n=d.scrollHeight+l}catch(e){}(i||n)&&(o={flex:"0 1 auto"},i&&(o.width="".concat(i,"px")),n&&(o.height="".concat(n,"px")),Object.assign(s,o))}}},{key:"onRefresh",value:function(e,t){var i=this;t.slides.forEach(function(e){e.$el&&(e.$iframe&&i.resizeIframe(e),e.ratio&&i.setAspectRatio(e))})}},{key:"setContent",value:function(e){if(e&&!e.isDom){switch(e.type){case"html":this.fancybox.setContent(e,e.src);break;case"html5video":this.fancybox.setContent(e,this.fancybox.option("Html.html5video.tpl").replace(/\{\{src\}\}/gi,e.src).replace("{{format}}",e.format||e.html5video&&e.html5video.format||"").replace("{{poster}}",e.poster||e.thumb||""));break;case"inline":case"clone":this.loadInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"iframe":case"pdf":case"video":case"map":this.loadIframeContent(e)}e.ratio&&this.setAspectRatio(e)}}},{key:"onSelectSlide",value:function(e,t,i){"ready"===e.state&&this.playVideo(i)}},{key:"playVideo",value:function(i){if("html5video"===i.type&&i.video.autoplay)try{var e,t=i.$el.querySelector("video");!t||void 0!==(e=t.play())&&e.then(function(){}).catch(function(e){t.muted=!0,t.play()})}catch(i){}"video"===i.type&&i.$iframe&&i.$iframe.contentWindow&&!function e(){if("done"===i.state&&i.$iframe&&i.$iframe.contentWindow){var t;if(i.$iframe.isReady)return void((t=i.video&&i.video.autoplay?"youtube"==i.vendor?{event:"command",func:"playVideo"}:{method:"play",value:"true"}:t)&&i.$iframe.contentWindow.postMessage(JSON.stringify(t),"*"));"youtube"===i.vendor&&(t={event:"listening",id:i.$iframe.getAttribute("id")},i.$iframe.contentWindow.postMessage(JSON.stringify(t),"*"))}i.poller=setTimeout(e,250)}()}},{key:"onUnselectSlide",value:function(e,t,i){if("html5video"!==i.type){var n=!1;"vimeo"==i.vendor?n={method:"pause",value:"true"}:"youtube"===i.vendor&&(n={event:"command",func:"pauseVideo"}),n&&i.$iframe&&i.$iframe.contentWindow&&i.$iframe.contentWindow.postMessage(JSON.stringify(n),"*"),clearTimeout(i.poller)}else try{i.$el.querySelector("video").pause()}catch(e){}}},{key:"onRemoveSlide",value:function(e,t,i){i.xhr&&(i.xhr.abort(),i.xhr=null),i.$iframe&&(i.$iframe.onload=i.$iframe.onerror=null,i.$iframe.src="//about:blank",i.$iframe=null);var n=i.$content,i=("inline"===i.type&&n&&(n.classList.remove("fancybox__content"),"none"!==n.style.display&&(n.style.display="none")),i.$closeButton&&(i.$closeButton.remove(),i.$closeButton=null),n&&n.$placeHolder);i&&(i.parentNode.insertBefore(n,i),i.remove(),n.$placeHolder=null)}},{key:"onMessage",value:function(e){try{var t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===t.event){var i,n=k(document.getElementsByClassName("fancybox__iframe"));try{for(n.s();!(i=n.n()).done;){var o=i.value;o.contentWindow===e.source&&(o.isReady=1)}}catch(e){n.e(e)}finally{n.f()}}}else"https://www.youtube-nocookie.com"===e.origin&&"onReady"===t.event&&(document.getElementById(t.id).isReady=1)}catch(e){}}},{key:"attach",value:function(){this.fancybox.on(this.events),window.addEventListener("message",this.onMessage,!1)}},{key:"detach",value:function(){this.fancybox.off(this.events),window.removeEventListener("message",this.onMessage,!1)}}]),ie);function ie(e){r(this,ie),this.fancybox=e;for(var t=0,i=["onInit","onReady","onCreateSlide","onRemoveSlide","onSelectSlide","onUnselectSlide","onRefresh","onMessage"];t<i.length;t++){var n=i[t];this[n]=this[n].bind(this)}this.events={init:this.onInit,ready:this.onReady,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide,"Carousel.selectSlide":this.onSelectSlide,"Carousel.unselectSlide":this.onUnselectSlide,"Carousel.refresh":this.onRefresh}}D.defaults=te;t(oe,[{key:"onReady",value:function(){var t=this;this.fancybox.Carousel.slides.forEach(function(e){e.$el&&t.setContent(e)})}},{key:"onDone",value:function(e,t){this.handleCursor(t)}},{key:"onClosing",value:function(e){clearTimeout(this.clickTimer),this.clickTimer=null,e.Carousel.slides.forEach(function(e){e.$image&&(e.state="destroy"),e.Panzoom&&e.Panzoom.detachEvents()}),"closing"===this.fancybox.state&&this.canZoom(e.getSlide())&&this.zoomOut()}},{key:"onCreateSlide",value:function(e,t,i){"ready"===this.fancybox.state&&this.setContent(i)}},{key:"onRemoveSlide",value:function(e,t,i){i.$image&&(i.$el.classList.remove(e.option("Image.canZoomInClass")),i.$image.remove(),i.$image=null),i.Panzoom&&(i.Panzoom.destroy(),i.Panzoom=null),i.$el&&i.$el.dataset&&delete i.$el.dataset.imageFit}},{key:"setContent",value:function(t){var e,i,n,o,s=this;t.isDom||t.html||t.type&&"image"!==t.type||t.$image||(t.type="image",t.state="loading",(e=document.createElement("div")).style.visibility="hidden",(i=document.createElement("img")).addEventListener("load",function(e){e.stopImmediatePropagation(),s.onImageStatusChange(t)}),i.addEventListener("error",function(){s.onImageStatusChange(t)}),i.src=t.src,i.alt="",i.draggable=!1,i.classList.add("fancybox__image"),t.srcset&&i.setAttribute("srcset",t.srcset),t.sizes&&i.setAttribute("sizes",t.sizes),t.$image=i,(n=this.fancybox.option("Image.wrap"))?((o=document.createElement("div")).classList.add("string"==typeof n?n:"fancybox__image-wrap"),o.appendChild(i),e.appendChild(o),t.$wrap=o):e.appendChild(i),t.$el.dataset.imageFit=this.fancybox.option("Image.fit"),this.fancybox.setContent(t,e),i.complete||i.error?this.onImageStatusChange(t):this.fancybox.showLoading(t))}},{key:"onImageStatusChange",value:function(t){var i=this,e=t.$image;e&&"loading"===t.state&&(e.complete&&e.naturalWidth&&e.naturalHeight?(this.fancybox.hideLoading(t),"contain"===this.fancybox.option("Image.fit")&&this.initSlidePanzoom(t),t.$el.addEventListener("wheel",function(e){return i.onWheel(t,e)},{passive:!1}),t.$content.addEventListener("click",function(e){return i.onClick(t,e)},{passive:!1}),this.revealContent(t)):this.fancybox.setError(t,"{{IMAGE_ERROR}}"))}},{key:"initSlidePanzoom",value:function(e){var t=this;e.Panzoom||(e.Panzoom=new x(e.$el,p(!0,this.fancybox.option("Image.Panzoom",{}),{viewport:e.$wrap,content:e.$image,wrapInner:!1,textSelection:!0,touch:this.fancybox.option("Image.touch"),panOnlyZoomed:!0,click:!1,wheel:!1})),e.Panzoom.on("startAnimation",function(){t.fancybox.trigger("Image.startAnimation",e)}),e.Panzoom.on("endAnimation",function(){"zoomIn"===e.state&&t.fancybox.done(e),t.handleCursor(e),t.fancybox.trigger("Image.endAnimation",e)}),e.Panzoom.on("afterUpdate",function(){t.handleCursor(e),t.fancybox.trigger("Image.afterUpdate",e)}))}},{key:"revealContent",value:function(e){null===this.fancybox.Carousel.prevPage&&e.index===this.fancybox.options.startIndex&&this.canZoom(e)?this.zoomIn():this.fancybox.revealContent(e)}},{key:"getZoomInfo",value:function(e){var t=e.$thumb.getBoundingClientRect(),i=t.width,n=t.height,e=e.$content.getBoundingClientRect(),o=e.width,s=e.height,a=e.top-t.top,e=e.left-t.left,r=this.fancybox.option("Image.zoomOpacity");return"auto"===r&&(r=.1<Math.abs(i/n-o/s)),{top:a,left:e,scale:t.width/o,opacity:r}}},{key:"canZoom",value:function(e){var t=this.fancybox,i=t.$container;if(window.visualViewport&&1!==window.visualViewport.scale)return!1;if(!t.option("Image.zoom")||"contain"!==t.option("Image.fit"))return!1;t=e.$thumb;if(!t||"loading"===e.state)return!1;i.classList.add("fancybox__no-click");var n,o,e=t.getBoundingClientRect();return o=this.fancybox.option("Image.ignoreCoveredThumbnail")?(o=document.elementFromPoint(e.left+1,e.top+1)===t,n=document.elementFromPoint(e.right-1,e.bottom-1)===t,o&&n):document.elementFromPoint(e.left+.5*e.width,e.top+.5*e.height)===t,i.classList.remove("fancybox__no-click"),o}},{key:"zoomIn",value:function(){var e=this.fancybox,t=e.getSlide(),i=t.Panzoom,n=this.getZoomInfo(t),o=n.top,s=n.left,a=n.scale,n=n.opacity;t.state="zoomIn",e.trigger("reveal",t),i.panTo({x:-1*s,y:-1*o,scale:a,friction:0,ignoreBounds:!0}),!(t.$content.style.visibility="")===n&&i.on("afterTransform",function(e){"zoomIn"!==t.state&&"zoomOut"!==t.state||(e.$content.style.opacity=Math.min(1,1-(1-e.content.scale)/(1-a)))}),i.panTo({x:0,y:0,scale:1,friction:this.fancybox.option("Image.zoomFriction")})}},{key:"zoomOut",value:function(){var s,e,a=this,t=this.fancybox,r=t.getSlide(),l=r.Panzoom;l&&(r.state="zoomOut",t.state="customClosing",r.$caption&&(r.$caption.style.visibility="hidden"),s=this.fancybox.option("Image.zoomFriction"),e=function(e){var t=a.getZoomInfo(r),i=t.top,n=t.left,o=t.scale,t=t.opacity;e||t||(s*=.82),l.panTo({x:-1*n,y:-1*i,scale:o,friction:s,ignoreBounds:!0}),s*=.98},window.addEventListener("scroll",e),l.once("endAnimation",function(){window.removeEventListener("scroll",e),t.destroy()}),e())}},{key:"handleCursor",value:function(e){var t,i;"image"===e.type&&e.$el&&(t=e.Panzoom,i=this.fancybox.option("Image.click",!1,e),e=e.$el.classList,t&&"toggleZoom"===i?e[t&&1===t.content.scale&&.01<t.option("maxScale")-t.content.scale?"add":"remove"](this.fancybox.option("Image.canZoomInClass")):"close"===i&&e.add(this.fancybox.option("Image.canZoomOutClass")))}},{key:"onWheel",value:function(e,t){if("ready"===this.fancybox.state&&!1!==this.fancybox.trigger("Image.wheel",t))switch(this.fancybox.option("Image.wheel")){case"zoom":e.Panzoom&&e.Panzoom.zoomWithWheel(t);break;case"close":this.fancybox.close();break;case"slide":this.fancybox[t.deltaY<0?"prev":"next"]()}}},{key:"onClick",value:function(t,i){var n=this;if("ready"===this.fancybox.state){var e=t.Panzoom;if(!e||!e.dragPosition.midPoint&&0===e.dragOffset.x&&0===e.dragOffset.y&&1===e.dragOffset.scale){if(this.fancybox.Carousel.Panzoom.lockAxis)return!1;var o=function(e){switch(e){case"toggleZoom":i.stopPropagation(),t.Panzoom&&t.Panzoom.zoomWithClick(i);break;case"close":n.fancybox.close();break;case"next":i.stopPropagation(),n.fancybox.next()}},s=this.fancybox.option("Image.click"),e=this.fancybox.option("Image.doubleClick");e?this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null,o(e)):this.clickTimer=setTimeout(function(){n.clickTimer=null,o(s)},300):o(s)}}}},{key:"onPageChange",value:function(e,t){var i=e.getSlide();t.slides.forEach(function(e){e.Panzoom&&"done"===e.state&&e.index!==i.index&&e.Panzoom.panTo({x:0,y:0,scale:1,friction:.8})})}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events)}}]);var ne=oe;function oe(e){r(this,oe),this.fancybox=e;for(var t=0,i=["onReady","onClosing","onDone","onPageChange","onCreateSlide","onRemoveSlide","onImageStatusChange"];t<i.length;t++){var n=i[t];this[n]=this[n].bind(this)}this.events={ready:this.onReady,closing:this.onClosing,done:this.onDone,"Carousel.change":this.onPageChange,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide}}ne.defaults={canZoomInClass:"can-zoom_in",canZoomOutClass:"can-zoom_out",zoom:!0,zoomOpacity:"auto",zoomFriction:.82,ignoreCoveredThumbnail:!1,touch:!0,click:"toggleZoom",doubleClick:null,wheel:"zoom",fit:"contain",wrap:!1,Panzoom:{ratio:1}};function se(){var e=window.location.hash.substr(1),t=e.split("-"),i=1<t.length&&/^\+?\d+$/.test(t[t.length-1])&&parseInt(t.pop(-1),10)||null;return{hash:e,slug:t.join("-"),index:i}}t(T,[{key:"onChange",value:function(){var e=this,t=this.fancybox,i=t.Carousel,n=(this.timer&&clearTimeout(this.timer),null===i.prevPage),t=t.getSlide(),o=t.$trigger&&t.$trigger.dataset,s=window.location.hash.substr(1),a=!1;t.slug?a=t.slug:(o=o&&o.fancybox)&&o.length&&"true"!==o&&(a=o+(1<i.slides.length?"-"+(t.index+1):"")),n&&(this.origHash=s!==a?this.origHash:""),a&&s!==a&&(this.timer=setTimeout(function(){try{window.history[n?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+"#"+a),n&&(e.hasCreatedHistory=!0)}catch(e){}},300))}},{key:"onClosing",value:function(){if(this.timer&&clearTimeout(this.timer),!0!==this.hasSilentClose){if(!this.hasCreatedHistory)try{return void window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash?"#"+this.origHash:""))}catch(e){}window.history.back()}}},{key:"attach",value:function(e){e.on(this.events)}},{key:"detach",value:function(e){e.off(this.events)}}],[{key:"startFromUrl",value:function(){var e,t,i;T.Fancybox&&!T.Fancybox.getInstance()&&(t=(e=se()).hash,i=e.slug,e=e.index,i&&((t=document.querySelector('[data-slug="'.concat(t,'"]')))&&t.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),T.Fancybox.getInstance()||(i=document.querySelectorAll('[data-fancybox="'.concat(i,'"]'))).length&&(null===e&&1===i.length?t=i[0]:e&&(t=i[e-1]),t&&t.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))))}},{key:"onHashChange",value:function(){var e=se(),t=e.slug,e=e.index,i=T.Fancybox.getInstance();if(i){if(t){var n,o=i.Carousel,s=k(o.slides);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(a.slug&&a.slug===t)return o.slideTo(a.index)}}catch(e){s.e(e)}finally{s.f()}var r=i.getSlide(),r=r.$trigger&&r.$trigger.dataset;if(r&&r.fancybox===t)return o.slideTo(e-1)}i.plugins.Hash.hasSilentClose=!0,i.close()}T.startFromUrl()}},{key:"create",value:function(e){function t(){window.addEventListener("hashchange",T.onHashChange,!1),T.startFromUrl()}T.Fancybox=e,G&&window.requestAnimationFrame(function(){/complete|interactive|loaded/.test(document.readyState)?t():document.addEventListener("DOMContentLoaded",t)})}},{key:"destroy",value:function(){window.removeEventListener("hashchange",T.onHashChange,!1)}}]);var ae=T,A={pageXOffset:0,pageYOffset:0,element:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement},activate:function(e){A.pageXOffset=window.pageXOffset,A.pageYOffset=window.pageYOffset,e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},deactivate:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},re=(t(he,[{key:"isActive",value:function(){return this.active}},{key:"setTimer",value:function(){var e,t,i=this;this.active&&!this.timer&&(e=this.fancybox.option("slideshow.delay",3e3),this.timer=setTimeout(function(){i.timer=null,i.fancybox.option("infinite")||i.fancybox.getSlide().index!==i.fancybox.Carousel.slides.length-1?i.fancybox.next():i.fancybox.jumpTo(0,{friction:0})},e),(t=this.$progress)||((t=document.createElement("div")).classList.add("fancybox__progress"),this.fancybox.$carousel.parentNode.insertBefore(t,this.fancybox.$carousel),(this.$progress=t).offsetHeight),t.style.transitionDuration="".concat(e,"ms"),t.style.transform="scaleX(1)")}},{key:"clearTimer",value:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&(this.$progress.style.transitionDuration="",this.$progress.style.transform="",this.$progress.offsetHeight)}},{key:"activate",value:function(){this.active||(this.active=!0,this.fancybox.$container.classList.add("has-slideshow"),"done"===this.fancybox.getSlide().state&&this.setTimer(),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1))}},{key:"handleVisibilityChange",value:function(){this.deactivate()}},{key:"deactivate",value:function(){this.active=!1,this.clearTimer(),this.fancybox.$container.classList.remove("has-slideshow"),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1)}},{key:"toggle",value:function(){this.active?this.deactivate():1<this.fancybox.Carousel.slides.length&&this.activate()}}]),he),le={display:["counter","zoom","slideshow","fullscreen","thumbs","close"],autoEnable:!0,items:{counter:{type:"div",class:"fancybox__counter",html:'<span data-fancybox-index=""></span>&nbsp;/&nbsp;<span data-fancybox-count=""></span>',tabindex:-1,position:"left"},prev:{type:"button",class:"fancybox__button--prev",label:"PREV",html:'<svg viewBox="0 0 24 24"><path d="M15 4l-8 8 8 8"/></svg>',click:function(e){e.preventDefault(),this.fancybox.prev()}},next:{type:"button",class:"fancybox__button--next",label:"NEXT",html:'<svg viewBox="0 0 24 24"><path d="M8 4l8 8-8 8"/></svg>',click:function(e){e.preventDefault(),this.fancybox.next()}},fullscreen:{type:"button",class:"fancybox__button--fullscreen",label:"TOGGLE_FULLSCREEN",html:'<svg viewBox="0 0 24 24">\n                <g><path d="M3 8 V3h5"></path><path d="M21 8V3h-5"></path><path d="M8 21H3v-5"></path><path d="M16 21h5v-5"></path></g>\n                <g><path d="M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5"/></g>\n            </svg>',click:function(e){e.preventDefault(),A.element()?A.deactivate():A.activate(this.fancybox.$container)}},slideshow:{type:"button",class:"fancybox__button--slideshow",label:"TOGGLE_SLIDESHOW",html:'<svg viewBox="0 0 24 24">\n                <g><path d="M6 4v16"/><path d="M20 12L6 20"/><path d="M20 12L6 4"/></g>\n                <g><path d="M7 4v15M17 4v15"/></g>\n            </svg>',click:function(e){e.preventDefault(),this.Slideshow.toggle()}},zoom:{type:"button",class:"fancybox__button--zoom",label:"TOGGLE_ZOOM",html:'<svg viewBox="0 0 24 24"><circle cx="10" cy="10" r="7"></circle><path d="M16 16 L21 21"></svg>',click:function(e){e.preventDefault();e=this.fancybox.getSlide().Panzoom;e&&e.toggleZoom()}},download:{type:"link",label:"DOWNLOAD",class:"fancybox__button--download",html:'<svg viewBox="0 0 24 24"><path d="M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17"/></svg>',click:function(e){e.stopPropagation()}},thumbs:{type:"button",label:"TOGGLE_THUMBS",class:"fancybox__button--thumbs",html:'<svg viewBox="0 0 24 24"><circle cx="4" cy="4" r="1" /><circle cx="12" cy="4" r="1" transform="rotate(90 12 4)"/><circle cx="20" cy="4" r="1" transform="rotate(90 20 4)"/><circle cx="4" cy="12" r="1" transform="rotate(90 4 12)"/><circle cx="12" cy="12" r="1" transform="rotate(90 12 12)"/><circle cx="20" cy="12" r="1" transform="rotate(90 20 12)"/><circle cx="4" cy="20" r="1" transform="rotate(90 4 20)"/><circle cx="12" cy="20" r="1" transform="rotate(90 12 20)"/><circle cx="20" cy="20" r="1" transform="rotate(90 20 20)"/></svg>',click:function(e){e.stopPropagation();e=this.fancybox.plugins.Thumbs;e&&e.toggle()}},close:{type:"button",label:"CLOSE",class:"fancybox__button--close",html:'<svg viewBox="0 0 24 24"><path d="M20 20L4 4m16 0L4 20"></path></svg>',tabindex:0,click:function(e){e.stopPropagation(),e.preventDefault(),this.fancybox.close()}}}},ce=(t(de,[{key:"onInit",value:function(){if(this.fancybox.option("Toolbar.autoEnable")){var e,t=!1,i=k(this.fancybox.items);try{for(i.s();!(e=i.n()).done;)if("image"===e.value.type){t=!0;break}}catch(e){i.e(e)}finally{i.f()}if(!t)return void(this.state="disabled")}var n,o=k(this.fancybox.option("Toolbar.display"));try{for(o.s();!(n=o.n()).done;){var s=n.value;if("close"===(v(s)?s.id:s)){this.fancybox.options.closeButton=!1;break}}}catch(e){o.e(e)}finally{o.f()}}},{key:"onPrepare",value:function(){if("init"===this.state&&(this.build(),this.update(),this.Slideshow=new re(this.fancybox),!this.fancybox.Carousel.prevPage&&(this.fancybox.option("slideshow.autoStart")&&this.Slideshow.activate(),this.fancybox.option("fullscreen.autoStart")&&!A.element())))try{A.activate(this.fancybox.$container)}catch(e){}}},{key:"onFsChange",value:function(){window.scrollTo(A.pageXOffset,A.pageYOffset)}},{key:"onSettle",value:function(){this.Slideshow&&this.Slideshow.isActive()&&(this.fancybox.getSlide().index!==this.fancybox.Carousel.slides.length-1||this.fancybox.option("infinite")?"done"===this.fancybox.getSlide().state&&this.Slideshow.setTimer():this.Slideshow.deactivate())}},{key:"onChange",value:function(){this.update(),this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer()}},{key:"onDone",value:function(e,t){t.index===e.getSlide().index&&(this.update(),this.Slideshow&&this.Slideshow.isActive()&&(this.fancybox.option("infinite")||t.index!==this.fancybox.Carousel.slides.length-1?this.Slideshow.setTimer():this.Slideshow.deactivate()))}},{key:"onRefresh",value:function(e){e&&e.index!==this.fancybox.getSlide().index||(this.update(),!this.Slideshow||!this.Slideshow.isActive()||e&&"done"!==e.state||this.Slideshow.deactivate())}},{key:"onKeydown",value:function(e,t,i){" "===t&&this.Slideshow&&(this.Slideshow.toggle(),i.preventDefault())}},{key:"onClosing",value:function(){this.Slideshow&&this.Slideshow.deactivate(),document.removeEventListener("fullscreenchange",this.onFsChange)}},{key:"createElement",value:function(e){"div"===e.type?t=document.createElement("div"):(t=document.createElement("link"===e.type?"a":"button")).classList.add("carousel__button"),t.innerHTML=e.html,t.setAttribute("tabindex",e.tabindex||0),e.class&&(i=t.classList).add.apply(i,b(e.class.split(" "))),e.label&&t.setAttribute("title",this.fancybox.localize("{{".concat(e.label,"}}"))),e.click&&t.addEventListener("click",e.click.bind(this)),"prev"===e.id&&t.setAttribute("data-fancybox-prev",""),"next"===e.id&&t.setAttribute("data-fancybox-next","");var t,i=t.querySelector("svg");return i&&(i.setAttribute("role","img"),i.setAttribute("tabindex","-1"),i.setAttribute("xmlns","http://www.w3.org/2000/svg")),t}},{key:"build",value:function(){var o=this;this.cleanup();var s,a=this.fancybox.option("Toolbar.items"),r=[{position:"left",items:[]},{position:"center",items:[]},{position:"right",items:[]}],l=this.fancybox.plugins.Thumbs,e=k(this.fancybox.option("Toolbar.display"));try{for(e.s();!(s=e.n()).done;)!function(){var e=s.value,t=void 0,i=void 0,i=v(e)?(t=e.id,p({},a[t],e)):a[t=e];if(["counter","next","prev","slideshow"].includes(t)&&o.fancybox.items.length<2)return;if("fullscreen"===t){if(!document.fullscreenEnabled||window.fullScreen)return;document.addEventListener("fullscreenchange",o.onFsChange)}if("thumbs"===t&&(!l||"disabled"===l.state))return;if(!i)return;var n=i.position||"right",e=r.find(function(e){return e.position===n});e&&e.items.push(i)}()}catch(o){e.e(o)}finally{e.f()}var t=document.createElement("div");t.classList.add("fancybox__toolbar");for(var i=0,n=r;i<n.length;i++){var c=n[i];if(c.items.length){var d=document.createElement("div");d.classList.add("fancybox__toolbar__items"),d.classList.add("fancybox__toolbar__items--".concat(c.position));var h,u=k(c.items);try{for(u.s();!(h=u.n()).done;){var f=h.value;d.appendChild(this.createElement(f))}}catch(o){u.e(o)}finally{u.f()}t.appendChild(d)}}this.fancybox.$carousel.parentNode.insertBefore(t,this.fancybox.$carousel),this.$container=t}},{key:"update",value:function(){var e,t=this.fancybox.getSlide(),i=t.index,n=this.fancybox.items.length,o=t.downloadSrc||("image"!==t.type||t.error?null:t.src),s=k(this.fancybox.$container.querySelectorAll("a.fancybox__button--download"));try{for(s.s();!(e=s.n()).done;){var a=e.value;o?(a.removeAttribute("disabled"),a.removeAttribute("tabindex"),a.setAttribute("href",o),a.setAttribute("download",o),a.setAttribute("target","_blank")):(a.setAttribute("disabled",""),a.setAttribute("tabindex",-1),a.removeAttribute("href"),a.removeAttribute("download"))}}catch(e){s.e(e)}finally{s.f()}var r,l=t.Panzoom,c=l&&l.option("maxScale")>l.option("baseScale"),d=k(this.fancybox.$container.querySelectorAll(".fancybox__button--zoom"));try{for(d.s();!(r=d.n()).done;){var h=r.value;c?h.removeAttribute("disabled"):h.setAttribute("disabled","")}}catch(e){d.e(e)}finally{d.f()}var u,f=k(this.fancybox.$container.querySelectorAll("[data-fancybox-index]"));try{for(f.s();!(u=f.n()).done;)u.value.innerHTML=t.index+1}catch(e){f.e(e)}finally{f.f()}var p,v=k(this.fancybox.$container.querySelectorAll("[data-fancybox-count]"));try{for(v.s();!(p=v.n()).done;)p.value.innerHTML=n}catch(e){v.e(e)}finally{v.f()}if(!this.fancybox.option("infinite")){var g,m=k(this.fancybox.$container.querySelectorAll("[data-fancybox-prev]"));try{for(m.s();!(g=m.n()).done;){var y=g.value;0===i?y.setAttribute("disabled",""):y.removeAttribute("disabled")}}catch(e){m.e(e)}finally{m.f()}var b,w=k(this.fancybox.$container.querySelectorAll("[data-fancybox-next]"));try{for(w.s();!(b=w.n()).done;){var x=b.value;i===n-1?x.setAttribute("disabled",""):x.removeAttribute("disabled")}}catch(e){w.e(e)}finally{w.f()}}}},{key:"cleanup",value:function(){this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer(),this.$container&&this.$container.remove(),this.$container=null}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events),this.cleanup()}}]),de);function de(e){var i=this;r(this,de),this.fancybox=e,this.$container=null,this.state="init";for(var t=0,n=["onInit","onPrepare","onDone","onKeydown","onClosing","onChange","onSettle","onRefresh"];t<n.length;t++){var o=n[t];this[o]=this[o].bind(this)}this.events={init:this.onInit,prepare:this.onPrepare,done:this.onDone,keydown:this.onKeydown,closing:this.onClosing,"Carousel.change":this.onChange,"Carousel.settle":this.onSettle,"Carousel.Panzoom.touchStart":function(){return i.onRefresh()},"Image.startAnimation":function(e,t){return i.onRefresh(t)},"Image.afterUpdate":function(e,t){return i.onRefresh(t)}}}function he(e){r(this,he),this.fancybox=e,this.active=!1,this.handleVisibilityChange=this.handleVisibilityChange.bind(this)}function T(e){r(this,T),this.fancybox=e;for(var t=0,i=["onChange","onClosing"];t<i.length;t++){var n=i[t];this[n]=this[n].bind(this)}this.events={initCarousel:this.onChange,"Carousel.change":this.onChange,closing:this.onClosing},this.hasCreatedHistory=!1,this.origHash="",this.timer=null}ce.defaults=le;var ue,le={ScrollLock:Y,Thumbs:L,Html:D,Toolbar:ce,Image:ne,Hash:ae},fe={startIndex:0,preload:1,infinite:!0,showClass:"fancybox-zoomInUp",hideClass:"fancybox-fadeOut",animated:!0,hideScrollbar:!0,parentEl:null,mainClass:null,autoFocus:!0,trapFocus:!0,placeFocusBack:!0,click:"close",closeButton:"inside",dragToClose:!0,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"next",ArrowDown:"prev",ArrowRight:"next",ArrowLeft:"prev"},template:{closeButton:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg>',spinner:'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="25 25 50 50" tabindex="-1"><circle cx="50" cy="50" r="20"/></svg>',main:null},l10n:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}},M={},pe=0,P=(i(z,m),ue=n(z),t(z,[{key:"bindHandlers",value:function(){for(var e=0,t=["onMousedown","onKeydown","onClick","onFocus","onCreateSlide","onTouchMove","onTouchEnd","onTransform"];e<t.length;e++){var i=t[e];this[i]=this[i].bind(this)}}},{key:"attachEvents",value:function(){document.addEventListener("mousedown",this.onMousedown),document.addEventListener("keydown",this.onKeydown,!0),this.option("trapFocus")&&document.addEventListener("focus",this.onFocus,!0),this.$container.addEventListener("click",this.onClick)}},{key:"detachEvents",value:function(){document.removeEventListener("mousedown",this.onMousedown),document.removeEventListener("keydown",this.onKeydown,!0),document.removeEventListener("focus",this.onFocus,!0),this.$container.removeEventListener("click",this.onClick)}},{key:"initLayout",value:function(){var i=this,e=(this.$root=this.option("parentEl")||document.body,this.option("template.main"));e&&(this.$root.insertAdjacentHTML("beforeend",this.localize(e)),this.$container=this.$root.querySelector(".fancybox__container")),this.$container||(this.$container=document.createElement("div"),this.$root.appendChild(this.$container)),this.$container.onscroll=function(){return i.$container.scrollLeft=0,!1},Object.entries({class:"fancybox__container",role:"dialog","aria-modal":"true","aria-hidden":"true","aria-label":this.localize("{{MODAL}}")}).forEach(function(e){var t;return(t=i.$container).setAttribute.apply(t,b(e))}),this.option("animated")&&this.$container.classList.add("is-animated"),this.$backdrop=this.$container.querySelector(".fancybox__backdrop"),this.$backdrop||(this.$backdrop=document.createElement("div"),this.$backdrop.classList.add("fancybox__backdrop"),this.$container.appendChild(this.$backdrop)),this.$carousel=this.$container.querySelector(".fancybox__carousel"),this.$carousel||(this.$carousel=document.createElement("div"),this.$carousel.classList.add("fancybox__carousel"),this.$container.appendChild(this.$carousel)),(this.$container.Fancybox=this).id=this.$container.getAttribute("id"),this.id||(this.id=this.options.id||++pe,this.$container.setAttribute("id","fancybox-"+this.id));var t,e=this.options.mainClass;return e&&(t=this.$container.classList).add.apply(t,b(e.split(" "))),document.documentElement.classList.add("with-fancybox"),this.trigger("initLayout"),this}},{key:"setItems",value:function(e){var t,i=[],n=k(e);try{for(n.s();!(t=n.n()).done;){var o,s,a=t.value,r=a.$trigger,l=(r&&(o=r.dataset||{},a.src=o.src||r.getAttribute("href")||a.src,a.type=o.type||a.type,!a.src&&r instanceof HTMLImageElement&&(a.src=r.currentSrc||a.$trigger.src)),a.$thumb),c=(l||!(l=(s=a.$trigger&&a.$trigger.origTarget)?s instanceof HTMLImageElement?s:s.querySelector("img"):l)&&a.$trigger&&(l=a.$trigger instanceof HTMLImageElement?a.$trigger:a.$trigger.querySelector("img")),a.$thumb=l||null,a.thumb);(c=!c&&l&&!(c=l.currentSrc||l.src)&&l.dataset?l.dataset.lazySrc||l.dataset.src:c)||"image"!==a.type||(c=a.src),a.thumb=c||null,a.caption=a.caption||"",i.push(a)}}catch(e){n.e(e)}finally{n.f()}this.items=i}},{key:"initCarousel",value:function(){var o=this;return this.Carousel=new $(this.$carousel,p(!0,{},{prefix:"",classNames:{viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"},textSelection:!0,preload:this.option("preload"),friction:.88,slides:this.items,initialPage:this.options.startIndex,slidesPerPage:1,infiniteX:this.option("infinite"),infiniteY:!0,l10n:this.option("l10n"),Dots:!1,Navigation:{classNames:{main:"fancybox__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}},Panzoom:{textSelection:!0,panOnlyZoomed:function(){return o.Carousel&&o.Carousel.pages&&o.Carousel.pages.length<2&&!o.options.dragToClose},lockAxis:function(){var e;if(o.Carousel)return e="x",o.options.dragToClose&&(e+="y"),e}},on:{"*":function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return o.trigger.apply(o,["Carousel.".concat(e)].concat(i))},init:function(e){return o.Carousel=e},createSlide:this.onCreateSlide}},this.option("Carousel"))),this.option("dragToClose")&&this.Carousel.Panzoom.on({touchMove:this.onTouchMove,afterTransform:this.onTransform,touchEnd:this.onTouchEnd}),this.trigger("initCarousel"),this}},{key:"onCreateSlide",value:function(e,t){var i,n,o=t.caption||"";"string"==typeof(o="function"==typeof this.options.caption?this.options.caption.call(this,this,this.Carousel,t):o)&&o.length&&(i=document.createElement("div"),n="fancybox__caption_".concat(this.id,"_").concat(t.index),i.className="fancybox__caption",i.innerHTML=o,i.setAttribute("id",n),t.$caption=t.$el.appendChild(i),t.$el.classList.add("has-caption"),t.$el.setAttribute("aria-labelledby",n))}},{key:"onFocus",value:function(e){this.focus(e)}},{key:"onClick",value:function(e){}},{key:"onTouchMove",value:function(){var e=this.getSlide().Panzoom;return!e||1===e.content.scale}},{key:"onTouchEnd",value:function(e){var t=e.dragOffset.y;150<=Math.abs(t)||35<=Math.abs(t)&&e.dragOffset.time<350?(this.option("hideClass")&&(this.getSlide().hideClass="fancybox-throwOut".concat(e.content.y<0?"Up":"Down")),this.close()):"y"===e.lockAxis&&e.panTo({y:0})}},{key:"onTransform",value:function(e){var t;this.$backdrop&&(t=(t=Math.abs(e.content.y))<1?"":Math.max(.33,Math.min(1,1-t/e.content.fitHeight*1.5)),this.$container.style.setProperty("--fancybox-ts",t?"0s":""),this.$container.style.setProperty("--fancybox-opacity",t))}},{key:"onMousedown",value:function(){document.body.classList.add("is-using-mouse")}},{key:"onKeydown",value:function(e){var t,i,n;z.getInstance().id===this.id&&(document.body.classList.remove("is-using-mouse"),t=e.key,!(i=this.option("keyboard"))||e.ctrlKey||e.altKey||e.shiftKey||(n=(n=document.activeElement&&document.activeElement.classList)&&n.contains("carousel__button"),("Escape"===t||n||!e.target.isContentEditable&&-1===["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(e.target.nodeName))&&!1!==this.trigger("keydown",t,e)&&"function"==typeof this[n=i[t]]&&this[n]()))}},{key:"getSlide",value:function(){var e=this.Carousel;if(!e)return null;var t=null===e.page?e.option("initialPage"):e.page,e=e.pages||[];return e.length&&e[t]?e[t].slides[0]:null}},{key:"focus",value:function(e){function t(e){if(e){i.ignoreFocusChange=!0;try{e.setActive?e.setActive():z.preventScrollSupported?e.focus({preventScroll:!0}):e.focus()}catch(e){}i.ignoreFocusChange=!1}}var i=this;if(!(this.ignoreFocusChange||-1<["init","closing","customClosing","destroy"].indexOf(this.state))){var n=this.getSlide().$el;if(n){e&&e.preventDefault();for(var o,s,a=[],r=0,l=Array.from(this.$container.querySelectorAll(["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])']));r<l.length;r++){var c=l[r],d=n.contains(c);!c.offsetParent||!d&&this.Carousel.$viewport.contains(c)?(c.dataset.origTabindex=void 0===c.dataset.origTabindex?c.getAttribute("tabindex"):c.dataset.origTabindex,c.tabIndex=-1):(a.push(c),void 0!==c.dataset.origTabindex&&(c.tabIndex=c.dataset.tabindex,c.removeAttribute("data-tabindex")),c.hasAttribute("autoFocus")||!o&&d?o=c:c.matches(".fancybox__button--close")&&(s=c))}-1<a.indexOf(document.activeElement)?this.lastFocus=document.activeElement:e?n.contains(document.activeElement)||(this.lastFocus===a[0]?t(a[a.length-1]):(e=a.indexOf(this.lastFocus))<a.length-2?t(a[e+1]):t(a[0]),this.lastFocus=document.activeElement):t(o||s||a[0])}}}},{key:"hideScrollbar",value:function(){var e,t,i;G&&(e=window.innerWidth-document.documentElement.getBoundingClientRect().width,t="fancybox-style-noscroll",(i=document.getElementById(t))||0<e&&((i=document.createElement("style")).id=t,i.type="text/css",i.innerHTML=".compensate-for-scrollbar {padding-right: ".concat(e,"px;}"),document.getElementsByTagName("head")[0].appendChild(i),document.body.classList.add("compensate-for-scrollbar")))}},{key:"revealScrollbar",value:function(){document.body.classList.remove("compensate-for-scrollbar");var e=document.getElementById("fancybox-style-noscroll");e&&e.remove()}},{key:"clearContent",value:function(e){this.Carousel.trigger("removeSlide",e),e.$content&&(e.$content.remove(),e.$content=null),e.$closeButton&&(e.$closeButton.remove(),e.$closeButton=null),e._className&&e.$el.classList.remove(e._className)}},{key:"setContent",value:function(e,t){var i,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=e.$el;if(t instanceof HTMLElement?-1<["img","iframe","video","audio"].indexOf(t.nodeName.toLowerCase())?(i=document.createElement("div")).appendChild(t):i=t:(t=document.createRange().createContextualFragment(t),(i=document.createElement("div")).appendChild(t)),(i=e.filter&&!e.error?i.querySelector(e.filter):i)instanceof Element)return e._className="has-".concat(n.suffix||e.type||"unknown"),o.classList.add(e._className),i.classList.add("fancybox__content"),"none"!==i.style.display&&"none"!==getComputedStyle(i).getPropertyValue("display")||(i.style.display=e.display||this.option("defaultDisplay")||"flex"),e.id&&i.setAttribute("id",e.id),e.$content=i,o.prepend(i),this.manageCloseButton(e),"loading"!==e.state&&this.revealContent(e),i;this.setError(e,"{{ELEMENT_NOT_FOUND}}")}},{key:"manageCloseButton",value:function(e){var t,i=this,n=void 0===e.closeButton?this.option("closeButton"):e.closeButton;!n||"top"===n&&this.$closeButton||((t=document.createElement("button")).classList.add("carousel__button","is-close"),t.setAttribute("title",this.options.l10n.CLOSE),t.innerHTML=this.option("template.closeButton"),t.addEventListener("click",function(e){return i.close(e)}),"inside"===n?(e.$closeButton&&e.$closeButton.remove(),e.$closeButton=e.$content.appendChild(t)):this.$closeButton=this.$container.insertBefore(t,this.$container.firstChild))}},{key:"revealContent",value:function(e){var t=this,i=(this.trigger("reveal",e),e.$content.style.visibility="",!1);(i=e.error||"loading"===e.state||null!==this.Carousel.prevPage||e.index!==this.options.startIndex?i:void 0===e.showClass?this.option("showClass"):e.showClass)?(e.state="animating",this.animateCSS(e.$content,i,function(){t.done(e)})):this.done(e)}},{key:"animateCSS",value:function(i,n,o){i&&i.dispatchEvent(new CustomEvent("animationend",{bubbles:!0,cancelable:!0})),i&&n?(i.addEventListener("animationend",function e(t){t.currentTarget===this&&(i.removeEventListener("animationend",e),o&&o(),i.classList.remove(n))}),i.classList.add(n)):"function"==typeof o&&o()}},{key:"done",value:function(e){e.state="done",this.trigger("done",e);var t=this.getSlide();t&&e.index===t.index&&this.option("autoFocus")&&this.focus()}},{key:"setError",value:function(e,t){e.error=t,this.hideLoading(e),this.clearContent(e);var i=document.createElement("div");i.classList.add("fancybox-error"),i.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,i,{suffix:"error"})}},{key:"showLoading",value:function(e){var t=this,i=(e.state="loading",e.$el.classList.add("is-loading"),e.$el.querySelector(".fancybox__spinner"));i||((i=document.createElement("div")).classList.add("fancybox__spinner"),i.innerHTML=this.option("template.spinner"),i.addEventListener("click",function(){t.Carousel.Panzoom.velocity||t.close()}),e.$el.prepend(i))}},{key:"hideLoading",value:function(e){var t=e.$el&&e.$el.querySelector(".fancybox__spinner");t&&(t.remove(),e.$el.classList.remove("is-loading")),"loading"===e.state&&(this.trigger("load",e),e.state="ready")}},{key:"next",value:function(){var e=this.Carousel;e&&1<e.pages.length&&e.slideNext()}},{key:"prev",value:function(){var e=this.Carousel;e&&1<e.pages.length&&e.slidePrev()}},{key:"jumpTo",value:function(){var e;this.Carousel&&(e=this.Carousel).slideTo.apply(e,arguments)}},{key:"close",value:function(e){var t,i=this;e&&e.preventDefault(),["closing","customClosing","destroy"].includes(this.state)||!1===this.trigger("shouldClose",e)||(this.state="closing",this.Carousel.Panzoom.destroy(),this.detachEvents(),this.trigger("closing",e),"destroy"===this.state)||(this.$container.setAttribute("aria-hidden","true"),this.$container.classList.add("is-closing"),t=this.getSlide(),this.Carousel.slides.forEach(function(e){e.$content&&e.index!==t.index&&i.Carousel.trigger("removeSlide",e)}),"closing"===this.state&&(e=void 0===t.hideClass?this.option("hideClass"):t.hideClass,this.animateCSS(t.$content,e,function(){i.destroy()},!0)))}},{key:"destroy",value:function(){var e,t;"destroy"!==this.state&&(this.state="destroy",this.trigger("destroy"),t=this.option("placeFocusBack")?this.getSlide().$trigger:null,this.Carousel.destroy(),this.detachPlugins(),this.Carousel=null,this.options={},this.events={},this.$container.remove(),this.$container=this.$backdrop=this.$carousel=null,t&&(z.preventScrollSupported?t.focus({preventScroll:!0}):(e=document.body.scrollTop,t.focus(),document.body.scrollTop=e)),delete M[this.id],(t=z.getInstance())?t.focus():(document.documentElement.classList.remove("with-fancybox"),document.body.classList.remove("is-using-mouse"),this.revealScrollbar()))}}],[{key:"show",value:function(e){return new z(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}},{key:"fromEvent",value:function(e){}},{key:"fromOpener",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=[],n=t.startIndex||0,o=t.target||null,s=void 0===(t=p({},t,z.openers.get(e))).groupAttr?"data-fancybox":t.groupAttr,a=s&&o&&o.getAttribute("".concat(s)),r=void 0!==t.groupAll&&t.groupAll;if(r||a?(i=[].slice.call(document.querySelectorAll(e)),r||(i=i.filter(function(e){return e.getAttribute("".concat(s))===a}))):i=[o],!i.length)return!1;e=z.getInstance();return!(e&&-1<i.indexOf(e.options.$trigger))&&(n=o?i.indexOf(o):n,new z(i=i.map(function(e){for(var t=["false","0","no","null","undefined"],i=["true","1","yes"],n=Object.assign({},e.dataset),o={},s=0,a=Object.entries(n);s<a.length;s++){var r=c(a[s],2),l=r[0],r=r[1];if("fancybox"!==l)if("width"===l||"height"===l)o["_".concat(l)]=r;else if("string"==typeof r||r instanceof String)if(-1<t.indexOf(r))o[l]=!1;else if(-1<i.indexOf(o[l]))o[l]=!0;else try{o[l]=JSON.parse(r)}catch(e){o[l]=r}else o[l]=r}return e instanceof Element&&(o.$trigger=e),o}),p({},t,{startIndex:n,$trigger:o})))}},{key:"bind",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};function i(){document.body.addEventListener("click",z.fromEvent,!1)}G&&(z.openers.size||(/complete|interactive|loaded/.test(document.readyState)?i():document.addEventListener("DOMContentLoaded",i)),z.openers.set(e,t))}},{key:"unbind",value:function(e){z.openers.delete(e),z.openers.size||z.destroy()}},{key:"destroy",value:function(){for(var e;e=z.getInstance();)e.destroy();z.openers=new Map,document.body.removeEventListener("click",z.fromEvent,!1)}},{key:"getInstance",value:function(e){return e?M[e]:Object.values(M).reverse().find(function(e){return!["closing","customClosing","destroy"].includes(e.state)&&e})||null}},{key:"close",value:function(){for(var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=null;t=z.getInstance();)if(t.close(),!e)return}}]),z);function z(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r(this,z),(t=ue.call(this,p(!0,{},fe,t))).bindHandlers(),t.state="init",t.setItems(e),t.attachPlugins(z.Plugins),t.trigger("init"),!0===t.option("hideScrollbar")&&t.hideScrollbar(),t.initLayout(),t.initCarousel(),t.attachEvents(),M[t.id]=a(t),t.trigger("prepare"),t.state="ready",t.trigger("ready"),t.$container.setAttribute("aria-hidden","false"),t.option("trapFocus")&&t.focus(),t}P.version="4.0.7",P.defaults=fe,P.openers=new Map,P.Plugins=le,P.bind("[data-fancybox]");for(var ve=0,ge=Object.entries(P.Plugins||{});ve<ge.length;ve++){var _=c(ge[ve],2),_=(_[0],_[1]);"function"==typeof _.create&&_.create(P)}e.Carousel=$,e.Fancybox=P,e.Panzoom=x}),function(e){var t=function(n,u,s){"use strict";var f,p,e,F={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in p=n.lazySizesConfig||n.lazysizesConfig||{},F)e in p||(p[e]=F[e]);if(!u||!u.getElementsByClassName)return{init:function(){},cfg:p,noSupport:!0};function d(e,t){T(e,t)||e.setAttribute("class",(e[$]("class")||"").trim()+" "+t)}function h(e,t){(t=T(e,t))&&e.setAttribute("class",(e[$]("class")||"").replace(t," "))}function N(e,t){var i;!ce&&(i=n.picturefill||p.pf)?(t&&t.src&&!e[$]("srcset")&&e.setAttribute("srcset",t.src),i({reevaluate:!0,elements:[e]})):t&&t.src&&(e.src=t.src)}function t(i,e){return e?function(){z(i)}:function(){var e=this,t=arguments;z(function(){i.apply(e,t)})}}function I(e){function t(){var e=s.now()-n;e<99?O(t,99-e):(he||o)(o)}var i,n,o=function(){i=null,e()};return function(){n=s.now(),i=i||O(t,99)}}function i(){!i.i&&u.getElementsByClassName&&(i.i=!0,ye._(),me._())}var R,W,B,v,g,j,m,H,V,q,y,b,w,x,k,Y,X,U,Z,o,K,G,J,Q,S,C,E,ee,a,te,ie,ne,D,oe,se,ae,re,le,r,L=u.documentElement,ce=n.HTMLPictureElement,l="addEventListener",$="getAttribute",c=n[l].bind(n),O=n.setTimeout,de=n.requestAnimationFrame||O,he=n.requestIdleCallback,ue=/^picture$/i,fe=["load","error","lazyincluded","_lazyloaded"],A={},pe=Array.prototype.forEach,T=function(e,t){return A[t]||(A[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),A[t].test(e[$]("class")||"")&&A[t]},ve=function(t,i,e){var n=e?l:"removeEventListener";e&&ve(t,i),fe.forEach(function(e){t[n](e,i)})},M=function(e,t,i,n,o){var s=u.createEvent("Event");return(i=i||{}).instance=f,s.initEvent(t,!n,!o),s.detail=i,e.dispatchEvent(s),s},P=function(e,t){return(getComputedStyle(e,null)||{})[t]},ge=function(e,t,i){for(i=i||e.offsetWidth;i<p.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},z=(le=[],r=re=[],Le._lsFlush=De,Le),me=(G=/^img$/i,J=/^iframe$/i,Q="onscroll"in n&&!/(gle|ing)bot/.test(navigator.userAgent),E=-1,ee=function(e){return(k=null==k?"hidden"==P(u.body,"visibility"):k)||!("hidden"==P(e.parentNode,"visibility")&&"hidden"==P(e,"visibility"))},Y=xe,U=C=S=0,Z=p.throttleDelay,o=p.ricTimeout,K=he&&49<o?function(){he(ke,{timeout:o}),o!==p.ricTimeout&&(o=p.ricTimeout)}:t(function(){O(ke)},!0),te=t(Se),ie=function(e){te({target:e.target})},ne=t(function(t,e,i,n,o){var s,a,r,l,c;(a=M(t,"lazybeforeunveil",e)).defaultPrevented||(n&&(i?d(t,p.autosizesClass):t.setAttribute("sizes",n)),i=t[$](p.srcsetAttr),n=t[$](p.srcAttr),o&&(s=(l=t.parentNode)&&ue.test(l.nodeName||"")),r=e.firesLoad||"src"in t&&(i||n||s),a={target:t},d(t,p.loadingClass),r&&(clearTimeout(j),j=O(we,2500),ve(t,ie,!0)),s&&pe.call(l.getElementsByTagName("source"),Ce),i?t.setAttribute("srcset",i):n&&!s&&(J.test(t.nodeName)?(e=n,0==(c=(l=t).getAttribute("data-load-mode")||p.iframeLoadMode)?l.contentWindow.location.replace(e):1==c&&(l.src=e)):t.src=n),o&&(i||s)&&N(t,{src:n})),t._lazyRace&&delete t._lazyRace,h(t,p.lazyClass),z(function(){var e=t.complete&&1<t.naturalWidth;r&&!e||(e&&d(t,p.fastLoadedClass),Se(a),t._lazyCache=!0,O(function(){"_lazyCache"in t&&delete t._lazyCache},9)),"lazy"==t.loading&&C--},!0)}),oe=I(function(){p.loadMode=3,a()}),{_:function(){H=s.now(),f.elements=u.getElementsByClassName(p.lazyClass),v=u.getElementsByClassName(p.lazyClass+" "+p.preloadClass),c("scroll",a,!0),c("resize",a,!0),c("pageshow",function(e){var t;e.persisted&&(t=u.querySelectorAll("."+p.loadingClass)).length&&t.forEach&&de(function(){t.forEach(function(e){e.complete&&D(e)})})}),n.MutationObserver?new MutationObserver(a).observe(L,{childList:!0,subtree:!0,attributes:!0}):(L[l]("DOMNodeInserted",a,!0),L[l]("DOMAttrModified",a,!0),setInterval(a,999)),c("hashchange",a,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){u[l](e,a,!0)}),/d$|^c/.test(u.readyState)?_():(c("load",_),u[l]("DOMContentLoaded",a),O(_,2e4)),f.elements.length?(xe(),z._lsFlush()):a()},checkElems:a=function(e){var t;(e=!0===e)&&(o=33),X||(X=!0,(t=Z-(s.now()-U))<0&&(t=0),e||t<9?K():O(K,t))},unveil:D=function(e){var t,i,n,o;e._lazyRace||(!(o="auto"==(n=(i=G.test(e.nodeName))&&(e[$](p.sizesAttr)||e[$]("sizes"))))&&g||!i||!e[$]("src")&&!e.srcset||e.complete||T(e,p.errorClass)||!T(e,p.lazyClass))&&(t=M(e,"lazyunveilread").detail,o&&ye.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,C++,ne(e,t,o,n,i))},_aLSL:Ee}),ye=(W=t(function(e,t,i,n){var o,s,a;if(e._lazysizesWidth=n,e.setAttribute("sizes",n+="px"),ue.test(t.nodeName||""))for(s=0,a=(o=t.getElementsByTagName("source")).length;s<a;s++)o[s].setAttribute("sizes",n);i.detail.dataAttr||N(e,i.detail)}),{_:function(){R=u.getElementsByClassName(p.autosizesClass),c("resize",B)},checkElems:B=I(function(){var e,t=R.length;if(t)for(e=0;e<t;e++)be(R[e])}),updateElem:be});function be(e,t,i){var n=e.parentNode;n&&(i=ge(e,n,i),(t=M(e,"lazybeforesizes",{width:i,dataAttr:!!t})).defaultPrevented||(i=t.detail.width)&&i!==e._lazysizesWidth&&W(e,n,t,i))}function we(e){C--,e&&!(C<0)&&e.target||(C=0)}function xe(){var e,t,i,n,o,s,a,r,l,c,d,h=f.elements;if((m=p.loadMode)&&C<8&&(e=h.length)){for(t=0,E++;t<e;t++)if(h[t]&&!h[t]._lazyRace)if(!Q||f.prematureUnveil&&f.prematureUnveil(h[t]))D(h[t]);else if((a=h[t][$]("data-expand"))&&(o=+a)||(o=S),l||(l=!p.expand||p.expand<1?500<L.clientHeight&&500<L.clientWidth?500:370:p.expand,c=(f._defEx=l)*p.expFactor,d=p.hFac,k=null,S<c&&C<1&&2<E&&2<m&&!u.hidden?(S=c,E=0):S=1<m&&1<E&&C<6?l:0),r!==o&&(V=innerWidth+o*d,q=innerHeight+o,s=-1*o,r=o),c=h[t].getBoundingClientRect(),(x=c.bottom)>=s&&(y=c.top)<=q&&(w=c.right)>=s*d&&(b=c.left)<=V&&(x||w||b||y)&&(p.loadHidden||ee(h[t]))&&(g&&C<3&&!a&&(m<3||E<4)||function(e,t){var i,n=e,o=ee(e);for(y-=t,x+=t,b-=t,w+=t;o&&(n=n.offsetParent)&&n!=u.body&&n!=L;)(o=0<(P(n,"opacity")||1))&&"visible"!=P(n,"overflow")&&(i=n.getBoundingClientRect(),o=w>i.left&&b<i.right&&x>i.top-1&&y<i.bottom+1);return o}(h[t],o))){if(D(h[t]),n=!0,9<C)break}else!n&&g&&!i&&C<4&&E<4&&2<m&&(v[0]||p.preloadAfterLoad)&&(v[0]||!a&&(x||w||b||y||"auto"!=h[t][$](p.sizesAttr)))&&(i=v[0]||h[t]);i&&!n&&D(i)}}function ke(){X=!1,U=s.now(),Y()}function Se(e){var t=e.target;t._lazyCache?delete t._lazyCache:(we(e),d(t,p.loadedClass),h(t,p.loadingClass),ve(t,ie),M(t,"lazyloaded"))}function Ce(e){var t,i=e[$](p.srcsetAttr);(t=p.customMedia[e[$]("data-media")||e[$]("media")])&&e.setAttribute("media",t),i&&e.setAttribute("srcset",i)}function Ee(){3==p.loadMode&&(p.loadMode=2),oe()}function _(){g||(s.now()-H<999?O(_,999):(g=!0,p.loadMode=3,a(),c("scroll",Ee,!0)))}function De(){var e=r;for(r=re.length?le:re,ae=!(se=!0);e.length;)e.shift()();se=!1}function Le(e,t){se&&!t?e.apply(this,arguments):(r.push(e),ae||(ae=!0,(u.hidden?O:de)(De)))}return O(function(){p.init&&i()}),f={cfg:p,autoSizer:ye,loader:me,init:i,uP:N,aC:d,rC:h,hC:T,fire:M,gW:ge,rAF:z}}(e,e.document,Date);e.lazySizes=t,"object"==typeof module&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:{}),document.addEventListener("lazybeforeunveil",function(e){var t=e.target.getAttribute("data-bg");t&&(e.target.style.backgroundImage="url("+t+")")}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Maska={})}(this,function(e){"use strict";function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function a(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,i;t=n,i=o[e=e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var r={"#":{pattern:/[0-9]/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,uppercase:!0},a:{pattern:/[a-zA-Z]/,lowercase:!0},"!":{escape:!0},"*":{repeat:!0}};function c(e,t){var a,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:r,n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return 1<o(t).length?(a=o(t).sort(function(e,t){return e.length-t.length}),function(t,e,i){var n,o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],s=a.map(function(e){return l(t,e,i,!1)}).pop();for(n in a)if(function(e,t,i){for(var n in i)i[n].escape&&(t=t.replace(new RegExp(n+".{1}","g"),""));return t.split("").filter(function(e){return i[e]&&i[e].pattern}).length>=e.length}(s,a[n],i))return l(t,a[n],i,o);return""}(e,t,i,n)):l(e,t,i,n)}function o(t){try{return JSON.parse(t)}catch(e){return[t]}}function l(e,t,i,n){for(var o,s=!(3<arguments.length&&void 0!==n)||n,a=0,r=0,l="",c="";a<t.length&&r<e.length;){var d,h=t[a],u=e[r],f=i[h];f&&f.pattern?(f.pattern.test(u)&&(l+=(o=u,(d=f).transform&&(o=d.transform(o)),d.uppercase?o.toLocaleUpperCase():d.lowercase?o.toLocaleLowerCase():o),a++,s&&t[a]&&(i[t[a]]?i[t[a]]&&i[t[a]].escape&&(l+=t[a+1],a+=2):(l+=t[a],a++))),r++):f&&f.repeat?(d=i[t[a-1]])&&!d.pattern.test(u)?a++:a--:(f&&f.escape&&(h=t[++a]),s&&(l+=h),u===h&&r++,a++)}for(;s&&a<t.length;){var p=t[a];if(i[p]){c="";break}c+=p,a++}return l+c}function n(e){return!(e instanceof HTMLInputElement)&&e.querySelector("input")||e}function d(e){return"[object String]"===Object.prototype.toString.call(e)}t(h.prototype,[{key:"init",value:function(){for(var i=this,e=0;e<this._el.length;e++)!function(e){var t=n(i._el[e]);!i._opts.mask||t.dataset.mask&&t.dataset.mask===i._opts.mask||(t.dataset.mask=i._opts.mask),setTimeout(function(){return i.updateValue(t)},0),t.dataset.maskInited||(t.dataset.maskInited=!0,t.addEventListener("input",i.inputEvent),t.addEventListener("beforeinput",i.beforeInput))}(e)}},{key:"destroy",value:function(){for(var e=0;e<this._el.length;e++){var t=n(this._el[e]);t.removeEventListener("input",this.inputEvent),t.removeEventListener("beforeinput",this.beforeInput),delete t.dataset.mask,delete t.dataset.maskInited}}},{key:"updateValue",value:function(e,t){if(e&&e.type){var i=e.type.match(/^number$/i)&&e.validity.badInput;if(!e.value&&!i||!e.dataset.mask)return e.dataset.maskRawValue="",void this.dispatch("maska",e,t);for(var i=e.selectionEnd,n=e.value,o=n[i-1],s=(e.dataset.maskRawValue=c(e.value,e.dataset.mask,this._opts.tokens,!1),e.value),a=(this._opts.preprocessor&&(s=this._opts.preprocessor(s)),e.value=c(s,e.dataset.mask,this._opts.tokens),t&&"insertText"===t.inputType&&i===n.length&&(i=e.value.length),e),r=i,l=o;r&&r<a.value.length&&a.value.charAt(r-1)!==l;)r++;(a.type?a.type.match(/^(text|search|password|tel|url)$/i):!a.type)&&a===document.activeElement&&(a.setSelectionRange(r,r),setTimeout(function(){a.setSelectionRange(r,r)},0)),this.dispatch("maska",e,t),e.value!==n&&this.dispatch("input",e,t)}}},{key:"beforeInput",value:function(e){e&&e.target&&e.target.type&&e.target.type.match(/^number$/i)&&e.data&&isNaN(e.target.value+e.data)&&e.preventDefault()}},{key:"dispatch",value:function(e,t,i){t.dispatchEvent(function(e,t){var t=1<arguments.length&&void 0!==t?t:null,i=document.createEvent("Event");return i.initEvent(e,!0,!0),t&&(i.inputType=t),i}(e,i&&i.inputType||null))}}]);var s=h;function h(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this,o=h;if(!(n instanceof o))throw new TypeError("Cannot call a class as a function");if(!e)throw new Error("Maska: no element for mask");if(null!=i.preprocessor&&"function"!=typeof i.preprocessor)throw new Error("Maska: preprocessor must be a function");if(i.tokens)for(var s in i.tokens)i.tokens[s]=a({},i.tokens[s]),i.tokens[s].pattern&&d(i.tokens[s].pattern)&&(i.tokens[s].pattern=new RegExp(i.tokens[s].pattern));this._opts={mask:i.mask,tokens:a(a({},r),i.tokens),preprocessor:i.preprocessor},this._el=d(e)?document.querySelectorAll(e):e.length?e:[e],this.inputEvent=function(e){return t.updateValue(e.target,e)},this.init()}function u(e,t){var i;!t.value||f.has(e)&&(d((i=t).value)&&i.value===i.oldValue||Array.isArray(i.value)&&JSON.stringify(i.value)===JSON.stringify(i.oldValue)||i.value&&i.value.mask&&i.oldValue&&i.oldValue.mask&&i.value.mask===i.oldValue.mask)||f.set(e,new s(e,(i=t.value,e={},i.mask?(e.mask=Array.isArray(i.mask)?JSON.stringify(i.mask):i.mask,e.tokens=i.tokens?a({},i.tokens):{},e.preprocessor=i.preprocessor):e.mask=Array.isArray(i)?JSON.stringify(i):i,e)))}var f;f=new WeakMap;function p(e){e.directive("maska",u)}"undefined"!=typeof window&&window.Vue&&window.Vue.use&&window.Vue.use(p),e.create=function(e,t){return new s(e,t)},e.default=p,e.install=p,e.mask=c,e.maska=u,e.tokens=r,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ymapsTouchScroll=t():e.ymapsTouchScroll=t()}(window,function(){return i=[function(e,t,i){"use strict";function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i.r(t),t.default=function(t){var e,i,n,o,s,a,r,l,c,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},h=d.preventScroll,h=void 0===h||h,u=d.preventTouch,u=void 0===u||u,f=d.textScroll,f=void 0===f?"Чтобы изменить масштаб, прокручивайте карту, удерживая клавишу Ctrl":f,d=d.textTouch,d=void 0===d?"Чтобы переместить карту проведите по ней двумя пальцами":d;"undefined"!=typeof window&&"object"===p(t)&&(h||u)&&"string"==typeof f&&"string"==typeof d&&(e=/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent),i=t.panes.get("events"),n=i.getElement(),o=e?d:f,s={alignItems:"center",boxSizing:"border-box",color:"#fff",display:"flex",justifyContent:"center",padding:"40px",textAlign:"center",transition:"background .2s",touchAction:"auto"},Object.keys(s).forEach(function(e){n.style[e]=s[e]}),a=function(e){n.style.background="rgba(0, 0, 0, ".concat(e?".6":"0",")"),n.textContent=e?o:""},u&&e&&(t.behaviors.disable("drag"),ymaps.domEvent.manager.add(n,"touchmove",function(e){a(1===e.get("touches").length)}),ymaps.domEvent.manager.add(n,"touchend",function(){a(!1)})),h&&!e&&((r=function(e){e?t.behaviors.enable("scrollZoom"):t.behaviors.disable("scrollZoom")})(c=l=!1),i.events.add("wheel",function(){l&&(r(c),a(!c))}),i.events.add("mousedown",function(){a(!1)}),i.events.add("mouseenter",function(){l=!0}),i.events.add("mouseleave",function(){a(l=!1)}),document.addEventListener("keydown",function(e){(c=e.ctrlKey)&&a(!1)}),document.addEventListener("keyup",function(){c=!1})))}}],n={},o.m=i,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0).default;function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var i,n});